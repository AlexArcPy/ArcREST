<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>arcrest.ags.administration &mdash; src  documentation</title>
    
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="src  documentation" href="../../../index.html" />
    <link rel="up" title="Module code" href="../../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">src  documentation</a> &raquo;</li>
          <li><a href="../../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for arcrest.ags.administration</h1><div class="highlight"><pre>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   Python tools for access ArcGIS Servers&#39; REST API.</span>
<span class="sd">   Use at you own risk.  This package can be dangerous.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">base</span> <span class="kn">import</span> <span class="n">BaseAGSServer</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">csv</span>
<span class="c">########################################################################</span>
<div class="viewcode-block" id="ArcGISServerSite"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.ArcGISServerSite">[docs]</a><span class="k">class</span> <span class="nc">ArcGISServerSite</span><span class="p">(</span><span class="n">BaseAGSServer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; instance of arcgis server admin pages &quot;&quot;&quot;</span>
    <span class="n">_token</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_token_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_username</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_password</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_acceptLanguage</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_currentVersion</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_resources</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_fullVersion</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_proxy_port</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_proxy_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">token_url</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span>
                 <span class="n">proxy_url</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">proxy_port</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Constructor</span>
<span class="sd">            Inputs:</span>
<span class="sd">               url - admin url</span>
<span class="sd">               token_url - url to generate token</span>
<span class="sd">               username - admin username</span>
<span class="sd">               password - admin password</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span> <span class="o">=</span> <span class="n">proxy_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span> <span class="o">=</span> <span class="n">proxy_port</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">=</span> <span class="n">url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span> <span class="o">=</span> <span class="n">token_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_password</span> <span class="o">=</span> <span class="n">password</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="s">&quot;&quot;</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">token_url</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">tokenURL</span><span class="o">=</span><span class="n">token_url</span><span class="p">,</span>
                                              <span class="n">proxy_port</span><span class="o">=</span><span class="n">proxy_port</span><span class="p">,</span>
                                            <span class="n">proxy_url</span><span class="o">=</span><span class="n">proxy_url</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>   
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                                                       <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>                
            <span class="k">if</span> <span class="n">res</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">print</span> <span class="s">&quot;Token was not generated&quot;</span>
            <span class="k">elif</span> <span class="s">&#39;error&#39;</span> <span class="ow">in</span> <span class="n">res</span><span class="p">:</span>
                <span class="k">print</span> <span class="n">res</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; populates server admin information &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">json_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;__&#39;</span><span class="p">)</span> <span class="ow">and</span> \
                    <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;_&#39;</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">json_dict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">attributes</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&quot;_&quot;</span><span class="o">+</span> <span class="n">k</span><span class="p">,</span> <span class="n">json_dict</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span> <span class="n">k</span><span class="p">,</span> <span class="s">&quot; - attribute not implmented.&quot;</span>
            <span class="k">del</span> <span class="n">k</span>
            <span class="k">del</span> <span class="n">v</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ArcGISServerSite.log"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.ArcGISServerSite.log">[docs]</a>    <span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the log object for server &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Log</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/logs&quot;</span><span class="p">,</span>
                   <span class="n">token_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span><span class="p">,</span>
                   <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_username</span><span class="p">,</span>
                   <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_password</span><span class="p">,</span>
                   <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                   <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ArcGISServerSite.services"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.ArcGISServerSite.services">[docs]</a>    <span class="k">def</span> <span class="nf">services</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; gets the object that works on services &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Services</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/services&quot;</span><span class="p">,</span>
                        <span class="n">token_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span><span class="p">,</span>
                        <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_username</span><span class="p">,</span>
                        <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_password</span><span class="p">,</span>
                        <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                        <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ArcGISServerSite.security"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.ArcGISServerSite.security">[docs]</a>    <span class="k">def</span> <span class="nf">security</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the class that works on the site security &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Security</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/security&quot;</span><span class="p">,</span>
                        <span class="n">token_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span><span class="p">,</span>
                        <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_username</span><span class="p">,</span>
                        <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_password</span><span class="p">,</span>
                        <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                        <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ArcGISServerSite.info"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.ArcGISServerSite.info">[docs]</a>    <span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the class info that gives information about AGS &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Info</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/info&quot;</span><span class="p">,</span>
                    <span class="n">token_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span><span class="p">,</span>
                    <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_username</span><span class="p">,</span>
                    <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_password</span><span class="p">,</span>
                    <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">,</span>
                    <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ArcGISServerSite.kml"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.ArcGISServerSite.kml">[docs]</a>    <span class="k">def</span> <span class="nf">kml</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the KML class &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">KML</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/kml&quot;</span><span class="p">,</span>
                   <span class="n">token_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span><span class="p">,</span>
                   <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_username</span><span class="p">,</span>
                   <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_password</span><span class="p">,</span>
                   <span class="n">initialize</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                   <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                   <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ArcGISServerSite.data"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.ArcGISServerSite.data">[docs]</a>    <span class="k">def</span> <span class="nf">data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the operations that work on the data store &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Data</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/data&quot;</span><span class="p">,</span>
                    <span class="n">token_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span><span class="p">,</span>
                    <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_username</span><span class="p">,</span>
                    <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_password</span><span class="p">,</span>
                    <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                    <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ArcGISServerSite.acceptLanguage"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.ArcGISServerSite.acceptLanguage">[docs]</a>    <span class="k">def</span> <span class="nf">acceptLanguage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_acceptLanguage</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_acceptLanguage</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ArcGISServerSite.currentVersion"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.ArcGISServerSite.currentVersion">[docs]</a>    <span class="k">def</span> <span class="nf">currentVersion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_currentVersion</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_currentVersion</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ArcGISServerSite.resources"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.ArcGISServerSite.resources">[docs]</a>    <span class="k">def</span> <span class="nf">resources</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; gets all the resources for the server &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resources</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resources</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ArcGISServerSite.fullVersion"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.ArcGISServerSite.fullVersion">[docs]</a>    <span class="k">def</span> <span class="nf">fullVersion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the full version of ags&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fullVersion</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fullVersion</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ArcGISServerSite.machines"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.ArcGISServerSite.machines">[docs]</a>    <span class="k">def</span> <span class="nf">machines</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the machine information for a server instace&quot;&quot;&quot;</span>
        <span class="n">mURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/machines&quot;</span>
        <span class="k">return</span> <span class="n">Machines</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">mURL</span><span class="p">,</span>
                        <span class="n">token_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span><span class="p">,</span>
                        <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_username</span><span class="p">,</span>
                        <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_password</span><span class="p">,</span>
                        <span class="n">initialize</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                        <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                        <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>
</div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ArcGISServerSite.clusters"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.ArcGISServerSite.clusters">[docs]</a>    <span class="k">def</span> <span class="nf">clusters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns information about the current cluster &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">cURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/clusters&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">cURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ArcGISServerSite.folders"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.ArcGISServerSite.folders">[docs]</a>    <span class="k">def</span> <span class="nf">folders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns a list of folders on AGS &quot;&quot;&quot;</span>
        <span class="n">cURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/services&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">cURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)[</span><span class="s">&#39;folders&#39;</span><span class="p">]</span>
<span class="c">########################################################################</span></div></div>
<div class="viewcode-block" id="Security"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security">[docs]</a><span class="k">class</span> <span class="nc">Security</span><span class="p">(</span><span class="n">BaseAGSServer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; The security resource is a container for all resources and</span>
<span class="sd">        operations that deal with security for your site. Under this</span>
<span class="sd">        resource, you will find resources that represent the users and</span>
<span class="sd">        roles in your current security configuration.</span>
<span class="sd">        Since the content sent to and from this resource (and operations</span>
<span class="sd">        within it) could contain confidential data like passwords, it is</span>
<span class="sd">        recommended that this resource be accessed over HTTPS protocol.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_token</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_username</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_password</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_token_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_resources</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_proxy_port</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_proxy_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">token_url</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span>
                 <span class="n">proxy_url</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">proxy_port</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Constructor</span>
<span class="sd">            Inputs:</span>
<span class="sd">               url - admin url</span>
<span class="sd">               token_url - url to generate token</span>
<span class="sd">               username - admin username</span>
<span class="sd">               password - admin password</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span> <span class="o">=</span> <span class="n">proxy_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span> <span class="o">=</span> <span class="n">proxy_port</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">=</span> <span class="n">url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span> <span class="o">=</span> <span class="n">token_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_password</span> <span class="o">=</span> <span class="n">password</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="s">&quot;&quot;</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">token_url</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">tokenURL</span><span class="o">=</span><span class="n">token_url</span><span class="p">,</span>
                                              <span class="n">proxy_port</span><span class="o">=</span><span class="n">proxy_port</span><span class="p">,</span>
                                            <span class="n">proxy_url</span><span class="o">=</span><span class="n">proxy_url</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>   
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                                                       <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>                
            <span class="k">if</span> <span class="n">res</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">print</span> <span class="s">&quot;Token was not generated&quot;</span>
            <span class="k">elif</span> <span class="s">&#39;error&#39;</span> <span class="ow">in</span> <span class="n">res</span><span class="p">:</span>
                <span class="k">print</span> <span class="n">res</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; populates server admin information &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">json_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;__&#39;</span><span class="p">)</span> <span class="ow">and</span> \
                    <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;_&#39;</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">json_dict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">attributes</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&quot;_&quot;</span><span class="o">+</span> <span class="n">k</span><span class="p">,</span> <span class="n">json_dict</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span> <span class="n">k</span><span class="p">,</span> <span class="s">&quot; - attribute not implmented.&quot;</span>
            <span class="k">del</span> <span class="n">k</span>
            <span class="k">del</span> <span class="n">v</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Security.resources"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.resources">[docs]</a>    <span class="k">def</span> <span class="nf">resources</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the resources &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resources</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resources</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Security.addRole"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.addRole">[docs]</a>    <span class="k">def</span> <span class="nf">addRole</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Adds a role to the role store. This operation is available only</span>
<span class="sd">            when the role store is a read-write store such as the default</span>
<span class="sd">            ArcGIS Server store.</span>
<span class="sd">            If the name of the role exists in the role store, an error will</span>
<span class="sd">            be returned.</span>
<span class="sd">            Input:</span>
<span class="sd">               name - The name of the role. The name must be unique in the</span>
<span class="sd">                      role store.</span>
<span class="sd">               description - An optional field to add comments or a</span>
<span class="sd">                             description for the role.</span>
<span class="sd">            Output:</span>
<span class="sd">               JSON message as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="n">name</span><span class="p">,</span>
            <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="n">description</span>
        <span class="p">}</span>
        <span class="n">aURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/roles/add&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">aURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Security.addUser"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.addUser">[docs]</a>    <span class="k">def</span> <span class="nf">addUser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span>
                <span class="n">fullname</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Add a user account to the user store</span>
<span class="sd">           Input:</span>
<span class="sd">              username - The name of the user. The name must be unique in</span>
<span class="sd">                         the user store.</span>
<span class="sd">              password - The password for this user</span>
<span class="sd">              fullname - an optional full name for the user</span>
<span class="sd">              description - an option field to add comments or description</span>
<span class="sd">                            for the user account</span>
<span class="sd">              email - an optional email for the user account</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;username&quot;</span> <span class="p">:</span> <span class="n">username</span><span class="p">,</span>
            <span class="s">&quot;password&quot;</span> <span class="p">:</span> <span class="n">password</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">fullname</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;fullname&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fullname</span>
        <span class="k">if</span> <span class="n">description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">description</span>
        <span class="k">if</span> <span class="n">email</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;email&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">email</span>
        <span class="n">aURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/users/add&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">aURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Security.addUsersToRole"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.addUsersToRole">[docs]</a>    <span class="k">def</span> <span class="nf">addUsersToRole</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rolename</span><span class="p">,</span> <span class="n">users</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Assigns a role to multiple users &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;rolename&quot;</span> <span class="p">:</span> <span class="n">rolename</span><span class="p">,</span>
            <span class="s">&quot;users&quot;</span> <span class="p">:</span> <span class="n">users</span>
        <span class="p">}</span>
        <span class="n">rURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/roles/addUsersToRole&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">rURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Security.assignPrivilege"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.assignPrivilege">[docs]</a>    <span class="k">def</span> <span class="nf">assignPrivilege</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rolename</span><span class="p">,</span> <span class="n">privilege</span><span class="o">=</span><span class="s">&quot;ACCESS&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           Administrative access to ArcGIS Server is modeled as three broad</span>
<span class="sd">           tiers of privileges:</span>
<span class="sd">               ADMINISTER - A role that possesses this privilege has</span>
<span class="sd">                           unrestricted administrative access to ArcGIS</span>
<span class="sd">                          Server.</span>
<span class="sd">               PUBLISH - A role with PUBLISH privilege can only publish GIS</span>
<span class="sd">                       services to ArcGIS Server.</span>
<span class="sd">               ACCESS-No administrative access. A role with this privilege</span>
<span class="sd">                      can only be granted permission to access one or more</span>
<span class="sd">                      GIS services.</span>
<span class="sd">           By assigning these privileges to one or more roles in the role</span>
<span class="sd">           store, ArcGIS Server&#39;s security model supports role-based access</span>
<span class="sd">           control to its administrative functionality.</span>
<span class="sd">           These privilege assignments are stored independent of ArcGIS</span>
<span class="sd">           Server&#39;s role store. As a result, you don&#39;t need to update your</span>
<span class="sd">           enterprise identity stores (like Active Directory).</span>
<span class="sd">           Inputs:</span>
<span class="sd">              rolename - The name of the role.</span>
<span class="sd">              privilege - The capability to assign to the role. The default</span>
<span class="sd">                          capability is ACCESS.</span>
<span class="sd">                          Values: ADMINISTER | PUBLISH | ACCESS</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON Message</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">aURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/roles/assignPrivilege&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;rolename&quot;</span> <span class="p">:</span> <span class="n">rolename</span><span class="p">,</span>
            <span class="s">&quot;privilege&quot;</span> <span class="p">:</span> <span class="n">privilege</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">aURL</span><span class="p">,</span>
                             <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Security.assignRoles"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.assignRoles">[docs]</a>    <span class="k">def</span> <span class="nf">assignRoles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">roles</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           You must use this operation to assign roles to a user account</span>
<span class="sd">           when working with an user and role store that supports reads and</span>
<span class="sd">           writes.</span>
<span class="sd">           By assigning a role to a user, the user account automatically</span>
<span class="sd">           inherits all the permissions that have been assigned to the role</span>
<span class="sd">           Inputs:</span>
<span class="sd">              username - The name of the user.</span>
<span class="sd">              roles - A comma-separated list of role names. Each of role</span>
<span class="sd">                      names must exist in the role store.</span>
<span class="sd">           Output:</span>
<span class="sd">              returns JSON messages</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;username&quot;</span> <span class="p">:</span> <span class="n">username</span><span class="p">,</span>
            <span class="s">&quot;roles&quot;</span> <span class="p">:</span> <span class="n">roles</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/users/assignRoles&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Security.disablePrimarySiteAdministrator"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.disablePrimarySiteAdministrator">[docs]</a>    <span class="k">def</span> <span class="nf">disablePrimarySiteAdministrator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           You can use this operation to disable log in privileges for the</span>
<span class="sd">           primary site administrator account. This operation can only be</span>
<span class="sd">           invoked by an administrator in the system. To re-enable this</span>
<span class="sd">           account, use the Enable Primary Site Administrator operation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/psa/disable&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">dURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Security.enablePrimarySiteAdministrator"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.enablePrimarySiteAdministrator">[docs]</a>    <span class="k">def</span> <span class="nf">enablePrimarySiteAdministrator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           You can use this operation to enable log in privileges for the</span>
<span class="sd">           primary site administrator account. This operation can only be</span>
<span class="sd">           invoked by an another administrator in the system.</span>
<span class="sd">           However, if you did not have any other administrators in the</span>
<span class="sd">           system and accidentally disabled the primary site administrator</span>
<span class="sd">           account, you can re-enable the account by running the password</span>
<span class="sd">           reset utility. This utility is shipped in &lt;ArcGIS Server</span>
<span class="sd">           installation directory&gt;\Server\tools\passwordreset. Use the -e</span>
<span class="sd">           option to re-enable the primary site administrator. This utility</span>
<span class="sd">           is described in more detail in the ArcGIS Server Help.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">eURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/psa/enable&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">eURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Security.getPrivilegeForRole"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.getPrivilegeForRole">[docs]</a>    <span class="k">def</span> <span class="nf">getPrivilegeForRole</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rolename</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           Returns the privilege associated with a role.</span>
<span class="sd">           Input:</span>
<span class="sd">              rolename - name of the role</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON Messages</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;rolename&quot;</span> <span class="p">:</span> <span class="n">rolename</span>
        <span class="p">}</span>
        <span class="n">pURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/roles/getPrivilege&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">pURL</span><span class="p">,</span>
                             <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Security.getPrivilegeForUser"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.getPrivilegeForUser">[docs]</a>    <span class="k">def</span> <span class="nf">getPrivilegeForUser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           Returns the privilege associated with a user</span>
<span class="sd">           Input:</span>
<span class="sd">              username - name of the user</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON message as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;username&quot;</span> <span class="p">:</span> <span class="n">username</span>
        <span class="p">}</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/users/getPrivilege&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Security.getRoles"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.getRoles">[docs]</a>    <span class="k">def</span> <span class="nf">getRoles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">startIndex</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pageSize</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; This operation gives you a pageable view of roles in the role</span>
<span class="sd">            store. It is intended for iterating through all available role</span>
<span class="sd">            accounts. To search for specific role accounts instead, use the</span>
<span class="sd">            Search Roles operation.</span>
<span class="sd">            Inputs:</span>
<span class="sd">               startIndex - The starting index (zero-based) from the roles</span>
<span class="sd">                            list that must be returned in the result page.</span>
<span class="sd">                            The default is 0.</span>
<span class="sd">               pageSize - The maximum number of roles to return in the</span>
<span class="sd">                          result page. The default size is 10.</span>
<span class="sd">            Output:</span>
<span class="sd">               returns JSON messages as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/roles/getRoles&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;startIndex&quot;</span> <span class="p">:</span> <span class="n">startIndex</span><span class="p">,</span>
            <span class="s">&quot;pageSize&quot;</span> <span class="p">:</span> <span class="n">pageSize</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Security.getRolesByPrivilege"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.getRolesByPrivilege">[docs]</a>    <span class="k">def</span> <span class="nf">getRolesByPrivilege</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">privilege</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           Returns the roles associated with a pribilege.</span>
<span class="sd">           Input:</span>
<span class="sd">              privilege - name of the privilege</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON response as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/roles/getRolesByPrivilege&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;privilege&quot;</span> <span class="p">:</span> <span class="n">privilege</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Security.getRolesForUser"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.getRolesForUser">[docs]</a>    <span class="k">def</span> <span class="nf">getRolesForUser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">maxCount</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           This operation returns a list of role names that have been</span>
<span class="sd">           assigned to a particular user account.</span>
<span class="sd">           Inputs:</span>
<span class="sd">              username - name of the user for whom the returned roles</span>
<span class="sd">              filter - filter to be applied to the resultant role set.</span>
<span class="sd">              maxCount - maximum number of results to return for this query</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/roles/getRolesForUser&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;username&quot;</span> <span class="p">:</span> <span class="n">username</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="nb">filter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;filter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">filter</span>

        <span class="k">if</span> <span class="n">maxCount</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;maxCount&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">maxCount</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Security.getUsers"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.getUsers">[docs]</a>    <span class="k">def</span> <span class="nf">getUsers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">startIndex</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pageSize</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           This operation gives you a pageable view of users in the user</span>
<span class="sd">           store. It is intended for iterating over all available user</span>
<span class="sd">           accounts. To search for specific user accounts instead, use the</span>
<span class="sd">           Search Users operation.</span>
<span class="sd">           Inputs:</span>
<span class="sd">              startIndex - The starting index (zero-based) from the users</span>
<span class="sd">                           list that must be returned in the result page.</span>
<span class="sd">                           The default is 0.</span>
<span class="sd">              pageSize - The maximum number of user accounts to return in</span>
<span class="sd">                         the result page.</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON response message as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/users/getUsers&quot;</span>
        <span class="n">params</span><span class="o">=</span><span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;startIndex&quot;</span> <span class="p">:</span> <span class="n">startIndex</span><span class="p">,</span>
            <span class="s">&quot;pageSize&quot;</span> <span class="p">:</span> <span class="n">pageSize</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span>
                             <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Security.getUsersWithinRole"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.getUsersWithinRole">[docs]</a>    <span class="k">def</span> <span class="nf">getUsersWithinRole</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rolename</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">maxCount</span><span class="o">=</span><span class="mi">20</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           You can use this operation to conveniently see all the user</span>
<span class="sd">           accounts to whom this role has been assigned.</span>
<span class="sd">           Inputs:</span>
<span class="sd">              rolename - name of the role</span>
<span class="sd">              filter - filter to be applied to the resultant user set</span>
<span class="sd">              maxCount - maximum number of results to return</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON Message as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/roles/getUsersWithinRole&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;rolename&quot;</span> <span class="p">:</span> <span class="n">rolename</span><span class="p">,</span>
            <span class="s">&quot;maxCount&quot;</span> <span class="p">:</span> <span class="n">maxCount</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="nb">filter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="nb">isinstance</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;filter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">filter</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Security.primarySiteAdministrator"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.primarySiteAdministrator">[docs]</a>    <span class="k">def</span> <span class="nf">primarySiteAdministrator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns if the primary site admin has been disabled &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/psa&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Security.removeRole"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.removeRole">[docs]</a>    <span class="k">def</span> <span class="nf">removeRole</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rolename</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           Removes an existing role from the role store. This operation is</span>
<span class="sd">           available only when the role store is a read-write store such as</span>
<span class="sd">           the default ArcGIS Server store.</span>
<span class="sd">           Input:</span>
<span class="sd">              rolename - name of role to remove</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON message if any</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;rolename&quot;</span> <span class="p">:</span> <span class="n">rolename</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/roles/remove&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span>
                             <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Security.removeRoles"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.removeRoles">[docs]</a>    <span class="k">def</span> <span class="nf">removeRoles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">roles</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           This operation removes roles that have been previously assigned</span>
<span class="sd">           to a user account. This operation is supported only when the</span>
<span class="sd">           user and role store supports reads and writes.</span>
<span class="sd">           Inputs:</span>
<span class="sd">              username - name of the user</span>
<span class="sd">              roles - comma seperated list of the role names</span>
<span class="sd">           Ouput:</span>
<span class="sd">              JSON Messages as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/users/removeRoles&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;username&quot;</span> <span class="p">:</span> <span class="n">username</span><span class="p">,</span>
            <span class="s">&quot;roles&quot;</span> <span class="p">:</span> <span class="n">roles</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Security.removeUser"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.removeUser">[docs]</a>    <span class="k">def</span> <span class="nf">removeUser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           returns a username from the user store</span>
<span class="sd">           Inputs:</span>
<span class="sd">              username - name of the user to remove</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON message as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&#39;json&#39;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;username&quot;</span> <span class="p">:</span> <span class="n">username</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/users/remove&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Security.removeUsersFromRole"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.removeUsersFromRole">[docs]</a>    <span class="k">def</span> <span class="nf">removeUsersFromRole</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rolename</span><span class="p">,</span> <span class="n">users</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           Removes a role assignment from multiple users.</span>
<span class="sd">           Inputs:</span>
<span class="sd">              rolename - name of the rolename</span>
<span class="sd">              users - comma seperated list of usernames.  They must exist</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON message as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&#39;json&#39;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;rolename&quot;</span> <span class="p">:</span> <span class="n">rolename</span><span class="p">,</span>
            <span class="s">&quot;users&quot;</span> <span class="p">:</span> <span class="n">users</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/roles/removeUsersFromRole&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Security.roles"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.roles">[docs]</a>    <span class="k">def</span> <span class="nf">roles</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           returns the number of roles for AGS</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
        <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/roles&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Security.searchRoles"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.searchRoles">[docs]</a>    <span class="k">def</span> <span class="nf">searchRoles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">maxCount</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           You can use this operation to search a specific role or a group</span>
<span class="sd">           of roles from the role store. The size of the search results can</span>
<span class="sd">           be controlled with the maxCount parameter.</span>
<span class="sd">           Inputs:</span>
<span class="sd">              filter - a filter string to search for the roles</span>
<span class="sd">              maxCount - maximum size of the result</span>
<span class="sd">           Ouput:</span>
<span class="sd">              JSON message as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;filter&quot;</span> <span class="p">:</span> <span class="nb">filter</span><span class="p">,</span>
            <span class="s">&quot;maxCount&quot;</span> <span class="p">:</span> <span class="n">maxCount</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/roles/search&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Security.searchUsers"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Security.searchUsers">[docs]</a>    <span class="k">def</span> <span class="nf">searchUsers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">maxCount</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           You can use this operation to search a specific user or a group</span>
<span class="sd">           of users from the user store. The size of the search result can</span>
<span class="sd">           be controlled with the maxCount parameter.</span>
<span class="sd">           Inputs:</span>
<span class="sd">              filter - a filter string to search for the users</span>
<span class="sd">              maxCount - maximum size of the result</span>
<span class="sd">           Ouput:</span>
<span class="sd">              JSON message as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;filter&quot;</span> <span class="p">:</span> <span class="nb">filter</span><span class="p">,</span>
            <span class="s">&quot;maxCount&quot;</span> <span class="p">:</span> <span class="n">maxCount</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/users/search&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="c">########################################################################</span></div></div>
<div class="viewcode-block" id="Services"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Services">[docs]</a><span class="k">class</span> <span class="nc">Services</span><span class="p">(</span><span class="n">BaseAGSServer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; returns information about the services on AGS &quot;&quot;&quot;</span>
    <span class="n">_currentURL</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_token</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_username</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_password</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_token_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_folderName</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_folders</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_foldersDetail</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_folderDetail</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_webEncrypted</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_description</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_isDefault</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_services</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_proxy_port</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_proxy_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">token_url</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span>
                 <span class="n">proxy_url</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">proxy_port</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Constructor</span>
<span class="sd">            Inputs:</span>
<span class="sd">               url - admin url</span>
<span class="sd">               token_url - url to generate token</span>
<span class="sd">               username - admin username</span>
<span class="sd">               password - admin password</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span> <span class="o">=</span> <span class="n">proxy_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span> <span class="o">=</span> <span class="n">proxy_port</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">=</span> <span class="n">url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_currentURL</span> <span class="o">=</span> <span class="n">url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span> <span class="o">=</span> <span class="n">token_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_password</span> <span class="o">=</span> <span class="n">password</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="s">&quot;&quot;</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">token_url</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">tokenURL</span><span class="o">=</span><span class="n">token_url</span><span class="p">,</span>
                                              <span class="n">proxy_port</span><span class="o">=</span><span class="n">proxy_port</span><span class="p">,</span>
                                            <span class="n">proxy_url</span><span class="o">=</span><span class="n">proxy_url</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>   
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                                                       <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>                
            <span class="k">if</span> <span class="n">res</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">print</span> <span class="s">&quot;Token was not generated&quot;</span>
            <span class="k">elif</span> <span class="s">&#39;error&#39;</span> <span class="ow">in</span> <span class="n">res</span><span class="p">:</span>
                <span class="k">print</span> <span class="n">res</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; populates server admin information &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">json_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_currentURL</span><span class="p">,</span>
                                 <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;__&#39;</span><span class="p">)</span> <span class="ow">and</span> \
                    <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;_&#39;</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">json_dict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">attributes</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&quot;_&quot;</span><span class="o">+</span> <span class="n">k</span><span class="p">,</span> <span class="n">json_dict</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span> <span class="n">k</span><span class="p">,</span> <span class="s">&quot; - attribute not implmented.&quot;</span>
            <span class="k">del</span> <span class="n">k</span>
            <span class="k">del</span> <span class="n">v</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Services.webEncrypted"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Services.webEncrypted">[docs]</a>    <span class="k">def</span> <span class="nf">webEncrypted</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns if the server is web encrypted &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_webEncrypted</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_webEncrypted</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">folderName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns current folder &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_folderName</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="nd">@folderName.setter</span>
<div class="viewcode-block" id="Services.folderName"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Services.folderName">[docs]</a>    <span class="k">def</span> <span class="nf">folderName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">folder</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">folder</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">folders</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_currentURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">folder</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_services</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_description</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_folderName</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_webEncrypted</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_folderName</span> <span class="o">=</span> <span class="n">folder</span>
        <span class="k">elif</span> <span class="n">folder</span> <span class="o">==</span> <span class="s">&quot;&quot;</span> <span class="ow">or</span>\
             <span class="n">folder</span> <span class="o">==</span> <span class="s">&quot;/&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_currentURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_services</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_description</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_folderName</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_webEncrypted</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_folderName</span> <span class="o">=</span> <span class="n">folder</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Services.folders"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Services.folders">[docs]</a>    <span class="k">def</span> <span class="nf">folders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns a list of all folders &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_folders</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">if</span> <span class="s">&quot;/&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_folders</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_folders</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_folders</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Services.foldersDetail"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Services.foldersDetail">[docs]</a>    <span class="k">def</span> <span class="nf">foldersDetail</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns the folder&#39;s details&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_foldersDetail</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_foldersDetail</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Services.description"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Services.description">[docs]</a>    <span class="k">def</span> <span class="nf">description</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the decscription &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_description</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_description</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Services.isDefault"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Services.isDefault">[docs]</a>    <span class="k">def</span> <span class="nf">isDefault</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the is default property &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isDefault</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isDefault</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Services.services"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Services.services">[docs]</a>    <span class="k">def</span> <span class="nf">services</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the services in the current folder &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_services</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
                    <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
                <span class="p">}</span>
        <span class="n">json_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_currentURL</span><span class="p">,</span>
                                 <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="k">if</span> <span class="s">&quot;services&quot;</span> <span class="ow">in</span> <span class="n">json_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">json_dict</span><span class="p">[</span><span class="s">&#39;services&#39;</span><span class="p">]:</span>
                <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_currentURL</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_services</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">AGSService</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span> <span class="o">+</span><span class="s">&quot;/</span><span class="si">%s</span><span class="s">.</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="s">&#39;serviceName&#39;</span><span class="p">],</span>
                                                                 <span class="n">s</span><span class="p">[</span><span class="s">&#39;type&#39;</span><span class="p">]),</span>
                               <span class="n">token_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span><span class="p">,</span>
                               <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_username</span><span class="p">,</span>
                               <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_password</span><span class="p">,</span>
                               <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">,</span>
                               <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">)</span>
                <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_services</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Services.find_services"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Services.find_services">[docs]</a>    <span class="k">def</span> <span class="nf">find_services</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_type</span><span class="o">=</span><span class="s">&quot;*&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            returns a list of a particular service type on AGS</span>
<span class="sd">            Input:</span>
<span class="sd">              service_type - Type of service to find.  The allowed types</span>
<span class="sd">                             are: (&quot;GPSERVER&quot;, &quot;GLOBESERVER&quot;, &quot;MAPSERVER&quot;,</span>
<span class="sd">                             &quot;GEOMETRYSERVER&quot;, &quot;IMAGESERVER&quot;,</span>
<span class="sd">                             &quot;SEARCHSERVER&quot;, &quot;GEODATASERVER&quot;,</span>
<span class="sd">                             &quot;GEOCODESERVER&quot;, &quot;*&quot;).  The default is *</span>
<span class="sd">                             meaning find all service names.</span>
<span class="sd">            Output:</span>
<span class="sd">              returns a list of service names as &lt;folder&gt;/&lt;name&gt;.&lt;type&gt;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">allowed_service_types</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;GPSERVER&quot;</span><span class="p">,</span> <span class="s">&quot;GLOBESERVER&quot;</span><span class="p">,</span> <span class="s">&quot;MAPSERVER&quot;</span><span class="p">,</span>
                                 <span class="s">&quot;GEOMETRYSERVER&quot;</span><span class="p">,</span> <span class="s">&quot;IMAGESERVER&quot;</span><span class="p">,</span>
                                 <span class="s">&quot;SEARCHSERVER&quot;</span><span class="p">,</span> <span class="s">&quot;GEODATASERVER&quot;</span><span class="p">,</span>
                                 <span class="s">&quot;GEOCODESERVER&quot;</span><span class="p">,</span> <span class="s">&quot;*&quot;</span><span class="p">)</span>
        <span class="n">lower_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">l</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">service_type</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">lower_types</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">v</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_service_types</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">{</span><span class="s">&quot;message&quot;</span> <span class="p">:</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> is not an allowed service type.&quot;</span> <span class="o">%</span> <span class="n">v</span><span class="p">}</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">type_services</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">folders</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">folders</span>
        <span class="n">folders</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="n">baseURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span>
        <span class="k">for</span> <span class="n">folder</span> <span class="ow">in</span> <span class="n">folders</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">folder</span> <span class="o">==</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
                <span class="n">url</span> <span class="o">=</span> <span class="n">baseURL</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">url</span> <span class="o">=</span> <span class="n">baseURL</span> <span class="o">+</span> <span class="s">&quot;/</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">folder</span>
            <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">res</span><span class="o">.</span><span class="n">has_key</span><span class="p">(</span><span class="s">&quot;services&quot;</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">service</span> <span class="ow">in</span> <span class="n">res</span><span class="p">[</span><span class="s">&#39;services&#39;</span><span class="p">]:</span>
                    <span class="c">#if service_type == &quot;*&quot;:</span>
                        <span class="c">#service[&#39;URL&#39;] = url + &quot;/%s.%s&quot; % (service[&#39;serviceName&#39;],</span>
                                                           <span class="c">#service_type)</span>
                        <span class="c">#type_services.append(service)</span>
                    <span class="k">if</span> <span class="n">service</span><span class="p">[</span><span class="s">&#39;type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">lower_types</span><span class="p">:</span>
                        <span class="n">service</span><span class="p">[</span><span class="s">&#39;URL&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">url</span> <span class="o">+</span> <span class="s">&quot;/</span><span class="si">%s</span><span class="s">.</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">service</span><span class="p">[</span><span class="s">&#39;serviceName&#39;</span><span class="p">],</span>
                                                           <span class="n">service_type</span><span class="p">)</span>
                        <span class="n">type_services</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">service</span><span class="p">)</span>
                    <span class="k">del</span> <span class="n">service</span>
            <span class="k">del</span> <span class="n">res</span>
            <span class="k">del</span> <span class="n">folder</span>
        <span class="k">return</span> <span class="n">type_services</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Services.addFolderPermission"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Services.addFolderPermission">[docs]</a>    <span class="k">def</span> <span class="nf">addFolderPermission</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">principal</span><span class="p">,</span> <span class="n">isAllowed</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">folder</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           Assigns a new permission to a role (principal). The permission</span>
<span class="sd">           on a parent resource is automatically inherited by all child</span>
<span class="sd">           resources</span>
<span class="sd">           Input:</span>
<span class="sd">              principal - name of role to assign/disassign accesss</span>
<span class="sd">              isAllowed -  boolean which allows access</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON message as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">folder</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/</span><span class="si">%s</span><span class="s">/</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="s">&quot;/permissions/add&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/permissions/add&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;principal&quot;</span> <span class="p">:</span> <span class="n">principal</span><span class="p">,</span>
            <span class="s">&quot;isAllowed&quot;</span> <span class="p">:</span> <span class="n">isAllowed</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Services.cleanPermsissions"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Services.cleanPermsissions">[docs]</a>    <span class="k">def</span> <span class="nf">cleanPermsissions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">principal</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           Cleans all permissions that have been assigned to a role</span>
<span class="sd">           (principal). This is typically used when a role is deleted.</span>
<span class="sd">           Input:</span>
<span class="sd">              principal - name of the role to clean</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON Message as Dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/permissions/clean&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;principal&quot;</span> <span class="p">:</span> <span class="n">principal</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Services.createFolder"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Services.createFolder">[docs]</a>    <span class="k">def</span> <span class="nf">createFolder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">folderName</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           Creates a unique folder name on AGS</span>
<span class="sd">           Inputs:</span>
<span class="sd">              folderName - name of folder on AGS</span>
<span class="sd">              description - describes the folder</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON message as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;folderName&quot;</span> <span class="p">:</span> <span class="n">folderName</span><span class="p">,</span>
            <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="n">description</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/createFolder&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Services.deleteFolder"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Services.deleteFolder">[docs]</a>    <span class="k">def</span> <span class="nf">deleteFolder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">folderName</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           deletes a folder on AGS</span>
<span class="sd">           Inputs:</span>
<span class="sd">              folderName - name of folder to remove</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON message as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">folderName</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">folders</span><span class="p">:</span>
            <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/</span><span class="si">%s</span><span class="s">/delete&quot;</span> <span class="o">%</span> <span class="n">folderName</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s">&quot;error&quot;</span> <span class="p">:</span> <span class="s">&quot;folder does not exist&quot;</span><span class="p">}</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Services.deleteService"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Services.deleteService">[docs]</a>    <span class="k">def</span> <span class="nf">deleteService</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serviceName</span><span class="p">,</span> <span class="n">serviceType</span><span class="p">,</span> <span class="n">folder</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           deletes a service from AGS</span>
<span class="sd">           Inputs:</span>
<span class="sd">              serviceName - name of the service</span>
<span class="sd">              serviceType - type of the service</span>
<span class="sd">              folder - name of the folder the service resides, leave None</span>
<span class="sd">                       for root.</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON message as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">folder</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/</span><span class="si">%s</span><span class="s">.</span><span class="si">%s</span><span class="s">/delete&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">serviceName</span><span class="p">,</span>
                                                  <span class="n">serviceType</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/</span><span class="si">%s</span><span class="s">/</span><span class="si">%s</span><span class="s">.</span><span class="si">%s</span><span class="s">/delete&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">folder</span><span class="p">,</span>
                                                     <span class="n">serviceName</span><span class="p">,</span>
                                                     <span class="n">serviceType</span><span class="p">)</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span></div>
<div class="viewcode-block" id="Services.service_report"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Services.service_report">[docs]</a>    <span class="k">def</span> <span class="nf">service_report</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">folder</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           provides a report on all items in a given folder</span>
<span class="sd">           Inputs:</span>
<span class="sd">              folder - folder to report on given services. None means root</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;description&quot;</span><span class="p">,</span> <span class="s">&quot;status&quot;</span><span class="p">,</span>
                 <span class="s">&quot;instances&quot;</span><span class="p">,</span> <span class="s">&quot;iteminfo&quot;</span><span class="p">,</span>
                 <span class="s">&quot;properties&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">folder</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/report&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/</span><span class="si">%s</span><span class="s">/report&quot;</span> <span class="o">%</span> <span class="n">folder</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;parameters&quot;</span> <span class="p">:</span> <span class="n">items</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Services.types"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Services.types">[docs]</a>    <span class="k">def</span> <span class="nf">types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the allowed services types &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/types&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span>
                            <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Services.rename_service"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Services.rename_service">[docs]</a>    <span class="k">def</span> <span class="nf">rename_service</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serviceName</span><span class="p">,</span> <span class="n">serviceType</span><span class="p">,</span>
                       <span class="n">serviceNewName</span><span class="p">,</span> <span class="n">folder</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           Renames a published AGS Service</span>
<span class="sd">           Inputs:</span>
<span class="sd">              serviceName - old service name</span>
<span class="sd">              serviceType - type of service</span>
<span class="sd">              serviceNewName - new service name</span>
<span class="sd">              folder - location of where the service lives, none means</span>
<span class="sd">                       root folder.</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON message as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;serviceName&quot;</span> <span class="p">:</span> <span class="n">serviceName</span><span class="p">,</span>
            <span class="s">&quot;serviceType&quot;</span> <span class="p">:</span> <span class="n">serviceType</span><span class="p">,</span>
            <span class="s">&quot;serviceNewName&quot;</span> <span class="p">:</span> <span class="n">serviceNewName</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">folder</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/renameService&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/</span><span class="si">%s</span><span class="s">/renameService&quot;</span> <span class="o">%</span> <span class="n">folder</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>


<span class="c">########################################################################</span></div></div>
<div class="viewcode-block" id="Info"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Info">[docs]</a><span class="k">class</span> <span class="nc">Info</span><span class="p">(</span><span class="n">BaseAGSServer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       A read-only resource that returns meta information about the server.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_token</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_username</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_password</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_token_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_timezone</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_loggedInUser</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_loggedInUserPrivilege</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_currentBuild</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_currentversion</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_fullVersion</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_proxy_port</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_proxy_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">token_url</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span>
                 <span class="n">proxy_url</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">proxy_port</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Constructor</span>
<span class="sd">            Inputs:</span>
<span class="sd">               url - admin url</span>
<span class="sd">               token_url - url to generate token</span>
<span class="sd">               username - admin username</span>
<span class="sd">               password - admin password</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span> <span class="o">=</span> <span class="n">proxy_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span> <span class="o">=</span> <span class="n">proxy_port</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">=</span> <span class="n">url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span> <span class="o">=</span> <span class="n">token_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_password</span> <span class="o">=</span> <span class="n">password</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="s">&quot;&quot;</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">token_url</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">tokenURL</span><span class="o">=</span><span class="n">token_url</span><span class="p">,</span>
                                              <span class="n">proxy_port</span><span class="o">=</span><span class="n">proxy_port</span><span class="p">,</span>
                                            <span class="n">proxy_url</span><span class="o">=</span><span class="n">proxy_url</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>   
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                                                       <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>                
            <span class="k">if</span> <span class="n">res</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">print</span> <span class="s">&quot;Token was not generated&quot;</span>
            <span class="k">elif</span> <span class="s">&#39;error&#39;</span> <span class="ow">in</span> <span class="n">res</span><span class="p">:</span>
                <span class="k">print</span> <span class="n">res</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; populates server admin information &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">json_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;__&#39;</span><span class="p">)</span> <span class="ow">and</span> \
                    <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;_&#39;</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">json_dict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">attributes</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&quot;_&quot;</span><span class="o">+</span> <span class="n">k</span><span class="p">,</span> <span class="n">json_dict</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span> <span class="n">k</span><span class="p">,</span> <span class="s">&quot; - attribute not implmented.&quot;</span>
            <span class="k">del</span> <span class="n">k</span>
            <span class="k">del</span> <span class="n">v</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Info.fullVersion"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Info.fullVersion">[docs]</a>    <span class="k">def</span> <span class="nf">fullVersion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the full version &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fullVersion</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fullVersion</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Info.currentversion"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Info.currentversion">[docs]</a>    <span class="k">def</span> <span class="nf">currentversion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the current vesrion &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_currentVersion</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_currentVersion</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Info.loggedInUser"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Info.loggedInUser">[docs]</a>    <span class="k">def</span> <span class="nf">loggedInUser</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; get the logged in user &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loggedInUser</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loggedInUser</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Info.currentbuild"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Info.currentbuild">[docs]</a>    <span class="k">def</span> <span class="nf">currentbuild</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the current build &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_currentbuild</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_currentbuild</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Info.timezone"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Info.timezone">[docs]</a>    <span class="k">def</span> <span class="nf">timezone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the server&#39;s defined time zone &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timezone</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timezone</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Info.loggedInUserPrivilege"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Info.loggedInUserPrivilege">[docs]</a>    <span class="k">def</span> <span class="nf">loggedInUserPrivilege</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; gets the logged in user&#39;s privileges &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loggedInUserPrivilege</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loggedInUserPrivilege</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Info.getAvailableTimeZones"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Info.getAvailableTimeZones">[docs]</a>    <span class="k">def</span> <span class="nf">getAvailableTimeZones</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           Returns an enumeration of all the time zones of which the server</span>
<span class="sd">           is aware. This is used by the GIS service publishing tools</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/getAvailableTimeZones&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>

<span class="c">########################################################################</span></div></div>
<div class="viewcode-block" id="Log"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Log">[docs]</a><span class="k">class</span> <span class="nc">Log</span><span class="p">(</span><span class="n">BaseAGSServer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Log of a server &quot;&quot;&quot;</span>
    <span class="n">_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_token</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_username</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_password</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_token_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_operations</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_resources</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_proxy_port</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_proxy_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">token_url</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span>
                 <span class="n">proxy_url</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">proxy_port</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Constructor</span>
<span class="sd">            Inputs:</span>
<span class="sd">               url - admin url</span>
<span class="sd">               token_url - url to generate token</span>
<span class="sd">               username - admin username</span>
<span class="sd">               password - admin password</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span> <span class="o">=</span> <span class="n">proxy_port</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span> <span class="o">=</span> <span class="n">proxy_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">=</span> <span class="n">url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span> <span class="o">=</span> <span class="n">token_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_password</span> <span class="o">=</span> <span class="n">password</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="s">&quot;&quot;</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">token_url</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">tokenURL</span><span class="o">=</span><span class="n">token_url</span><span class="p">,</span>
                                              <span class="n">proxy_port</span><span class="o">=</span><span class="n">proxy_port</span><span class="p">,</span>
                                            <span class="n">proxy_url</span><span class="o">=</span><span class="n">proxy_url</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>   
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                                                       <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>                
            <span class="k">if</span> <span class="n">res</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">print</span> <span class="s">&quot;Token was not generated&quot;</span>
            <span class="k">elif</span> <span class="s">&#39;error&#39;</span> <span class="ow">in</span> <span class="n">res</span><span class="p">:</span>
                <span class="k">print</span> <span class="n">res</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; populates server admin information &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">json_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;__&#39;</span><span class="p">)</span> <span class="ow">and</span> \
                    <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;_&#39;</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">json_dict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">attributes</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&quot;_&quot;</span><span class="o">+</span> <span class="n">k</span><span class="p">,</span> <span class="n">json_dict</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span> <span class="n">k</span><span class="p">,</span> <span class="s">&quot; - attribute not implmented.&quot;</span>
            <span class="k">del</span> <span class="n">k</span>
            <span class="k">del</span> <span class="n">v</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Log.operations"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Log.operations">[docs]</a>    <span class="k">def</span> <span class="nf">operations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the operations &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operations</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_operations</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Log.resources"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Log.resources">[docs]</a>    <span class="k">def</span> <span class="nf">resources</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the log resources &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resources</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resources</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Log.countErrorReports"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Log.countErrorReports">[docs]</a>    <span class="k">def</span> <span class="nf">countErrorReports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">machine</span><span class="o">=</span><span class="s">&quot;*&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; This operation counts the number of error reports (crash</span>
<span class="sd">            reports) that have been generated on each machine.</span>
<span class="sd">            Input:</span>
<span class="sd">               machine - name of the machine in the cluster.  * means all</span>
<span class="sd">                         machines.  This is default</span>
<span class="sd">            Output:</span>
<span class="sd">               dictionary with report count and machine name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span><span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;machine&quot;</span> <span class="p">:</span> <span class="n">machine</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/countErrorReports&quot;</span><span class="p">,</span>
                            <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Log.clean"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Log.clean">[docs]</a>    <span class="k">def</span> <span class="nf">clean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Deletes all the log files on all server machines in the site.  &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/clean&quot;</span><span class="p">,</span>
                             <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Log.logSettings"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Log.logSettings">[docs]</a>    <span class="k">def</span> <span class="nf">logSettings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the current log settings &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">sURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/settings&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">sURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)[</span><span class="s">&#39;settings&#39;</span><span class="p">]</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Log.editLogSettings"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Log.editLogSettings">[docs]</a>    <span class="k">def</span> <span class="nf">editLogSettings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                        <span class="n">logLevel</span><span class="o">=</span><span class="s">&quot;WARNING&quot;</span><span class="p">,</span>
                        <span class="n">logDir</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                        <span class="n">maxLogFileAge</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>
                        <span class="n">maxErrorReportsCount</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           The log settings are for the entire site.</span>
<span class="sd">           Inputs:</span>
<span class="sd">             logLevel -  Can be one of [OFF, SEVERE, WARNING, INFO, FINE,</span>
<span class="sd">                         VERBOSE, DEBUG].</span>
<span class="sd">             logDir - File path to the root of the log directory</span>
<span class="sd">             maxLogFileAge - number of days that a server should save a log</span>
<span class="sd">                             file.</span>
<span class="sd">             maxErrorReportsCount - maximum number of error report files</span>
<span class="sd">                                    per machine</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">lURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/settings/edit&quot;</span>
        <span class="n">allowed_levels</span> <span class="o">=</span>  <span class="p">(</span><span class="s">&quot;OFF&quot;</span><span class="p">,</span> <span class="s">&quot;SEVERE&quot;</span><span class="p">,</span> <span class="s">&quot;WARNING&quot;</span><span class="p">,</span> <span class="s">&quot;INFO&quot;</span><span class="p">,</span> <span class="s">&quot;FINE&quot;</span><span class="p">,</span> <span class="s">&quot;VERBOSE&quot;</span><span class="p">,</span> <span class="s">&quot;DEBUG&quot;</span><span class="p">)</span>
        <span class="n">currentSettings</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">logSettings</span>
        <span class="n">currentSettings</span><span class="p">[</span><span class="s">&quot;f&quot;</span><span class="p">]</span> <span class="o">=</span><span class="s">&quot;json&quot;</span>
        <span class="n">currentSettings</span><span class="p">[</span><span class="s">&quot;token&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>

        <span class="k">if</span> <span class="n">logLevel</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="ow">in</span> <span class="n">allowed_levels</span><span class="p">:</span>
            <span class="n">currentSettings</span><span class="p">[</span><span class="s">&#39;logLevel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">logLevel</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">logDir</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">currentSettings</span><span class="p">[</span><span class="s">&#39;logDir&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">logDir</span>
        <span class="k">if</span> <span class="n">maxLogFileAge</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="nb">isinstance</span><span class="p">(</span><span class="n">maxLogFileAge</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">currentSettings</span><span class="p">[</span><span class="s">&#39;maxLogFileAge&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">maxLogFileAge</span>
        <span class="k">if</span> <span class="n">maxErrorReportsCount</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="nb">isinstance</span><span class="p">(</span><span class="n">maxErrorReportsCount</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span>\
           <span class="n">maxErrorReportsCount</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">currentSettings</span><span class="p">[</span><span class="s">&#39;maxErrorReportsCount&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">maxErrorReportsCount</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">lURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">currentSettings</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Log.query"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Log.query">[docs]</a>    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
              <span class="n">startTime</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
              <span class="n">endTime</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
              <span class="n">sinceServerStart</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
              <span class="n">level</span><span class="o">=</span><span class="s">&quot;WARNING&quot;</span><span class="p">,</span>
              <span class="n">services</span><span class="o">=</span><span class="s">&quot;*&quot;</span><span class="p">,</span>
              <span class="n">machines</span><span class="o">=</span><span class="s">&quot;*&quot;</span><span class="p">,</span>
              <span class="n">server</span><span class="o">=</span><span class="s">&quot;*&quot;</span><span class="p">,</span>
              <span class="n">codes</span><span class="o">=</span><span class="p">[],</span>
              <span class="n">processIds</span><span class="o">=</span><span class="p">[],</span>
              <span class="n">export</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
              <span class="n">exportType</span><span class="o">=</span><span class="s">&quot;CSV&quot;</span><span class="p">,</span> <span class="c">#CSV or TAB</span>
              <span class="n">out_path</span><span class="o">=</span><span class="bp">None</span>
              <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           The query operation on the logs resource provides a way to</span>
<span class="sd">           aggregate, filter, and page through logs across the entire site.</span>
<span class="sd">           Inputs:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">allowed_levels</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;SEVERE&quot;</span><span class="p">,</span> <span class="s">&quot;WARNING&quot;</span><span class="p">,</span> <span class="s">&quot;INFO&quot;</span><span class="p">,</span>
                          <span class="s">&quot;FINE&quot;</span><span class="p">,</span> <span class="s">&quot;VERBOSE&quot;</span><span class="p">,</span> <span class="s">&quot;DEBUG&quot;</span><span class="p">)</span>
        <span class="n">qFilter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;services&quot;</span><span class="p">:</span> <span class="s">&quot;*&quot;</span><span class="p">,</span>
            <span class="s">&quot;machines&quot;</span><span class="p">:</span> <span class="s">&quot;*&quot;</span><span class="p">,</span>
            <span class="s">&quot;server&quot;</span> <span class="p">:</span> <span class="s">&quot;*&quot;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">processIds</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">qFilter</span><span class="p">[</span><span class="s">&#39;processIds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">processIds</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">codes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">qFilter</span><span class="p">[</span><span class="s">&#39;codes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">codes</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;sinceServerStart&quot;</span> <span class="p">:</span> <span class="n">sinceServerStart</span><span class="p">,</span>
            <span class="s">&quot;pageSize&quot;</span> <span class="p">:</span> <span class="mi">10000</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">startTime</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="nb">isinstance</span><span class="p">(</span><span class="n">startTime</span><span class="p">,</span> <span class="n">datetime</span><span class="p">):</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;startTime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">startTime</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&quot;%Y-%m-</span><span class="si">%d</span><span class="s">T%H:%M:%S&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">endTime</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="nb">isinstance</span><span class="p">(</span><span class="n">endTime</span><span class="p">,</span> <span class="n">datetime</span><span class="p">):</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;startTime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">endTime</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&quot;%Y-%m-</span><span class="si">%d</span><span class="s">T%H:%M:%S&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">level</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="ow">in</span> <span class="n">allowed_levels</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;level&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">level</span>
        <span class="k">if</span> <span class="n">server</span> <span class="o">!=</span> <span class="s">&quot;*&quot;</span><span class="p">:</span>
            <span class="n">qFilter</span><span class="p">[</span><span class="s">&#39;server&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">server</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">services</span> <span class="o">!=</span> <span class="s">&quot;*&quot;</span><span class="p">:</span>
            <span class="n">qFilter</span><span class="p">[</span><span class="s">&#39;services&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">services</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">machines</span> <span class="o">!=</span> <span class="s">&quot;*&quot;</span><span class="p">:</span>
            <span class="n">qFilter</span><span class="p">[</span><span class="s">&#39;machines&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">machines</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">)</span>
        <span class="n">params</span><span class="p">[</span><span class="s">&#39;filter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">qFilter</span>
        <span class="k">if</span> <span class="n">export</span> <span class="o">==</span> <span class="bp">True</span> <span class="ow">and</span> \
           <span class="n">out_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">messages</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/query&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>

            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">out_path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">hasKeys</span> <span class="o">=</span> <span class="bp">False</span>
                <span class="k">if</span> <span class="n">exportType</span> <span class="o">==</span> <span class="s">&quot;TAB&quot;</span><span class="p">:</span>
                    <span class="n">csvwriter</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s">&#39;</span><span class="se">\t</span><span class="s">&#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">csvwriter</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">messages</span><span class="p">[</span><span class="s">&#39;logMessages&#39;</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="n">hasKeys</span> <span class="o">==</span> <span class="bp">False</span><span class="p">:</span>
                        <span class="n">csvwriter</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
                        <span class="n">hasKeys</span> <span class="o">=</span> <span class="bp">True</span>
                    <span class="n">csvwriter</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
                    <span class="k">del</span> <span class="n">message</span>
            <span class="k">del</span> <span class="n">messages</span>
            <span class="k">return</span> <span class="n">out_path</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/query&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>

<span class="c">########################################################################</span></div></div>
<div class="viewcode-block" id="AGSService"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService">[docs]</a><span class="k">class</span> <span class="nc">AGSService</span><span class="p">(</span><span class="n">BaseAGSServer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Defines a AGS Admin Service &quot;&quot;&quot;</span>
    <span class="n">_proxy_port</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_proxy_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_username</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_password</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_token</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_token_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_recycleInterval</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_instancesPerContainer</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_maxWaitTime</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_extensions</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_minInstancesPerNode</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_maxIdleTime</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_maxUsageTime</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_allowedUploadFileTypes</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_datasets</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_properties</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_recycleStartTime</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_clusterName</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_description</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_isDefault</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_type</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_serviceName</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_isolationLevel</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_capabilities</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_loadBalancing</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_configuredState</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_maxStartupTime</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_private</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_maxUploadFileSize</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_keepAliveInterval</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_maxInstancesPerNode</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">token_url</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span>
                 <span class="n">proxy_url</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">proxy_port</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Constructor</span>
<span class="sd">            Inputs:</span>
<span class="sd">               url - admin url</span>
<span class="sd">               token_url - url to generate token</span>
<span class="sd">               username - admin username</span>
<span class="sd">               password - admin password</span>
<span class="sd">               proxy_url - url of proxy</span>
<span class="sd">               proxy_port - port value of proxy</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span> <span class="o">=</span> <span class="n">proxy_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span> <span class="o">=</span> <span class="n">proxy_port</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">=</span> <span class="n">url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_currentURL</span> <span class="o">=</span> <span class="n">url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span> <span class="o">=</span> <span class="n">token_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_password</span> <span class="o">=</span> <span class="n">password</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="s">&quot;&quot;</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">token_url</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">tokenURL</span><span class="o">=</span><span class="n">token_url</span><span class="p">,</span>
                                              <span class="n">proxy_port</span><span class="o">=</span><span class="n">proxy_port</span><span class="p">,</span>
                                            <span class="n">proxy_url</span><span class="o">=</span><span class="n">proxy_url</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>   
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                                                       <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>                
            <span class="k">if</span> <span class="n">res</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">print</span> <span class="s">&quot;Token was not generated&quot;</span>
            <span class="k">elif</span> <span class="s">&#39;error&#39;</span> <span class="ow">in</span> <span class="n">res</span><span class="p">:</span>
                <span class="k">print</span> <span class="n">res</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; populates server admin information &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">json_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_currentURL</span><span class="p">,</span>
                                 <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;__&#39;</span><span class="p">)</span> <span class="ow">and</span> \
                    <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;_&#39;</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">json_dict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">attributes</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&quot;_&quot;</span><span class="o">+</span> <span class="n">k</span><span class="p">,</span> <span class="n">json_dict</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span> <span class="n">k</span><span class="p">,</span> <span class="s">&quot; - attribute not implmented.&quot;</span>
            <span class="k">del</span> <span class="n">k</span>
            <span class="k">del</span> <span class="n">v</span>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.recycleInterval"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.recycleInterval">[docs]</a>    <span class="k">def</span> <span class="nf">recycleInterval</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recycleInterval</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recycleInterval</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.instancesPerContainer"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.instancesPerContainer">[docs]</a>    <span class="k">def</span> <span class="nf">instancesPerContainer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_instancesPerContainer</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_instancesPerContainer</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.maxWaitTime"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.maxWaitTime">[docs]</a>    <span class="k">def</span> <span class="nf">maxWaitTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maxWaitTime</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maxWaitTime</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.extensions"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.extensions">[docs]</a>    <span class="k">def</span> <span class="nf">extensions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extensions</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extensions</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.minInstancesPerNode"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.minInstancesPerNode">[docs]</a>    <span class="k">def</span> <span class="nf">minInstancesPerNode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minInstancesPerNode</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minInstancesPerNode</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.maxIdleTime"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.maxIdleTime">[docs]</a>    <span class="k">def</span> <span class="nf">maxIdleTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maxIdleTime</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maxIdleTime</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.maxUsageTime"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.maxUsageTime">[docs]</a>    <span class="k">def</span> <span class="nf">maxUsageTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maxUsageTime</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maxUsageTime</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.allowedUploadFileTypes"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.allowedUploadFileTypes">[docs]</a>    <span class="k">def</span> <span class="nf">allowedUploadFileTypes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allowedUploadFileTypes</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allowedUploadFileTypes</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.datasets"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.datasets">[docs]</a>    <span class="k">def</span> <span class="nf">datasets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.properties"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.properties">[docs]</a>    <span class="k">def</span> <span class="nf">properties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.recycleStartTime"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.recycleStartTime">[docs]</a>    <span class="k">def</span> <span class="nf">recycleStartTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recycleStartTime</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recycleStartTime</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.clusterName"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.clusterName">[docs]</a>    <span class="k">def</span> <span class="nf">clusterName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clusterName</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clusterName</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.description"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.description">[docs]</a>    <span class="k">def</span> <span class="nf">description</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_description</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_description</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.isDefault"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.isDefault">[docs]</a>    <span class="k">def</span> <span class="nf">isDefault</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isDefault</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isDefault</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.type"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.type">[docs]</a>    <span class="k">def</span> <span class="nf">type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_type</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_type</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.maxUploadFileSize"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.maxUploadFileSize">[docs]</a>    <span class="k">def</span> <span class="nf">maxUploadFileSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maxUploadFileSize</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maxUploadFileSize</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.keepAliveInterval"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.keepAliveInterval">[docs]</a>    <span class="k">def</span> <span class="nf">keepAliveInterval</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_keepAliveInterval</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_keepAliveInterval</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.maxInstancesPerNode"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.maxInstancesPerNode">[docs]</a>    <span class="k">def</span> <span class="nf">maxInstancesPerNode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maxInstancesPerNode</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maxInstancesPerNode</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.private"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.private">[docs]</a>    <span class="k">def</span> <span class="nf">private</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_private</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_private</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.maxStartupTime"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.maxStartupTime">[docs]</a>    <span class="k">def</span> <span class="nf">maxStartupTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maxStartupTime</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maxStartupTime</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.loadBalancing"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.loadBalancing">[docs]</a>    <span class="k">def</span> <span class="nf">loadBalancing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loadBalancing</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_loadBalancing</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.configuredState"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.configuredState">[docs]</a>    <span class="k">def</span> <span class="nf">configuredState</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_configuredState</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_configuredState</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.capabilities"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.capabilities">[docs]</a>    <span class="k">def</span> <span class="nf">capabilities</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_capabilities</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_capabilities</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.isolationLevel"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.isolationLevel">[docs]</a>    <span class="k">def</span> <span class="nf">isolationLevel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isolationLevel</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isolationLevel</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.serviceName"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.serviceName">[docs]</a>    <span class="k">def</span> <span class="nf">serviceName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serviceName</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_serviceName</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="AGSService.start_service"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.start_service">[docs]</a>    <span class="k">def</span> <span class="nf">start_service</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; starts the specific service &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/start&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="AGSService.stop_service"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.stop_service">[docs]</a>    <span class="k">def</span> <span class="nf">stop_service</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; stops the current service &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/stop&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="AGSService.restart_services"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.restart_services">[docs]</a>    <span class="k">def</span> <span class="nf">restart_services</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; restarts the current service &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_service</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_service</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">{</span><span class="s">&#39;status&#39;</span><span class="p">:</span> <span class="s">&#39;success&#39;</span><span class="p">}</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.status"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.status">[docs]</a>    <span class="k">def</span> <span class="nf">status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the status of the service &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/status&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.statistics"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.statistics">[docs]</a>    <span class="k">def</span> <span class="nf">statistics</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the stats for the service &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/statistics&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.permissions"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.permissions">[docs]</a>    <span class="k">def</span> <span class="nf">permissions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the permissions for the service &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/permissions&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="AGSService.iteminfo"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.iteminfo">[docs]</a>    <span class="k">def</span> <span class="nf">iteminfo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the item information &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/iteminfo&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="AGSService.addPermission"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.AGSService.addPermission">[docs]</a>    <span class="k">def</span> <span class="nf">addPermission</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">principal</span><span class="p">,</span> <span class="n">isAllowed</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           Assigns a new permission to a role (principal). The permission</span>
<span class="sd">           on a parent resource is automatically inherited by all child</span>
<span class="sd">           resources.</span>
<span class="sd">           Inputs:</span>
<span class="sd">              principal - role to be assigned</span>
<span class="sd">              isAllowed - access of resource by boolean</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON message as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/permissions/add&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;principal&quot;</span> <span class="p">:</span> <span class="n">principal</span><span class="p">,</span>
            <span class="s">&quot;isAllowed&quot;</span> <span class="p">:</span> <span class="n">isAllowed</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="c">########################################################################</span></div></div>
<div class="viewcode-block" id="Machines"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machines">[docs]</a><span class="k">class</span> <span class="nc">Machines</span><span class="p">(</span><span class="n">BaseAGSServer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       his resource represents a collection of all the server machines that</span>
<span class="sd">       have been registered with the site. It other words, it represents</span>
<span class="sd">       the total computing power of your site. A site will continue to run</span>
<span class="sd">       as long as there is one server machine online.</span>
<span class="sd">       For a server machine to start hosting GIS services, it must be</span>
<span class="sd">       grouped (or clustered). When you create a new site, a cluster called</span>
<span class="sd">       &#39;default&#39; is created for you.</span>
<span class="sd">       The list of server machines in your site can be dynamic. You can</span>
<span class="sd">       register additional server machines when you need to increase the</span>
<span class="sd">       computing power of your site or unregister them if you no longer</span>
<span class="sd">       need them.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_machines</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_proxy_port</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_proxy_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">token_url</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span>
                 <span class="n">initialize</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">proxy_url</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">proxy_port</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Constructor</span>
<span class="sd">            Inputs:</span>
<span class="sd">               url - admin url</span>
<span class="sd">               token_url - url to generate token</span>
<span class="sd">               username - admin username</span>
<span class="sd">               password - admin password</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span> <span class="o">=</span> <span class="n">proxy_port</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span> <span class="o">=</span> <span class="n">proxy_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">=</span> <span class="n">url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span> <span class="o">=</span> <span class="n">token_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_password</span> <span class="o">=</span> <span class="n">password</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="s">&quot;&quot;</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">token_url</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">tokenURL</span><span class="o">=</span><span class="n">token_url</span><span class="p">,</span>
                                              <span class="n">proxy_port</span><span class="o">=</span><span class="n">proxy_port</span><span class="p">,</span>
                                            <span class="n">proxy_url</span><span class="o">=</span><span class="n">proxy_url</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>   
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                                                       <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>                
            <span class="k">if</span> <span class="n">res</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">print</span> <span class="s">&quot;Token was not generated&quot;</span>
            <span class="k">elif</span> <span class="s">&#39;error&#39;</span> <span class="ow">in</span> <span class="n">res</span><span class="p">:</span>
                <span class="k">print</span> <span class="n">res</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">initialize</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; populates server admin information &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">json_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">,</span>
                                 <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;__&#39;</span><span class="p">)</span> <span class="ow">and</span> \
                    <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;_&#39;</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">json_dict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="s">&quot;machines&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_machines</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">v</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_machines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">Machine</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span><span class="s">&quot;/</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">m</span><span class="p">[</span><span class="s">&#39;machineName&#39;</span><span class="p">],</span>
                                <span class="n">token_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span><span class="p">,</span>
                                <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_username</span><span class="p">,</span>
                                <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_password</span><span class="p">,</span>
                                <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">,</span>
                                <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">)</span>
                    <span class="p">)</span>
            <span class="k">elif</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">attributes</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&quot;_&quot;</span><span class="o">+</span> <span class="n">k</span><span class="p">,</span> <span class="n">json_dict</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span> <span class="n">k</span><span class="p">,</span> <span class="s">&quot; - attribute not implmented for Machines&quot;</span>
            <span class="k">del</span> <span class="n">k</span>
            <span class="k">del</span> <span class="n">v</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Machines.machines"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machines.machines">[docs]</a>    <span class="k">def</span> <span class="nf">machines</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  returns the list of machines in the cluster &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_machines</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_machines</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Machines.registerMachine"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machines.registerMachine">[docs]</a>    <span class="k">def</span> <span class="nf">registerMachine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">machineName</span><span class="p">,</span> <span class="n">adminURL</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           For a server machine to participate in a site, it needs to be</span>
<span class="sd">           registered with the site. The server machine must have ArcGIS</span>
<span class="sd">           Server software installed and authorized.</span>
<span class="sd">           Registering machines this way is a &quot;pull&quot; approach to growing</span>
<span class="sd">           the site and is a convenient way when a large number of machines</span>
<span class="sd">           need to be added to a site. In contrast, a server machine can</span>
<span class="sd">           choose to join a site.</span>
<span class="sd">           Inputs:</span>
<span class="sd">              machineName - name of the server machine</span>
<span class="sd">              adminURL - URL wher ethe Administrator API is running on the</span>
<span class="sd">                         server machine.</span>
<span class="sd">                         Example: http://&lt;machineName&gt;:6080/arcgis/admin</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON message as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;machineName&quot;</span> <span class="p">:</span> <span class="n">machineName</span><span class="p">,</span>
            <span class="s">&quot;adminURL&quot;</span> <span class="p">:</span> <span class="n">adminURL</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">/register&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Machines.renameMachine"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machines.renameMachine">[docs]</a>    <span class="k">def</span> <span class="nf">renameMachine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">machineName</span><span class="p">,</span> <span class="n">newMachineName</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           You must use this operation if one of the registered machines</span>
<span class="sd">           has undergone a name change. This operation updates any</span>
<span class="sd">           references to the former machine configuration.</span>
<span class="sd">           By default, when the server is restarted, it is capable of</span>
<span class="sd">           identifying a name change and repairing itself and all its</span>
<span class="sd">           references. This operation is a manual call to handle the</span>
<span class="sd">           machine name change.</span>
<span class="sd">           Input:</span>
<span class="sd">              machineName - The former name of the server machine that is</span>
<span class="sd">                            registered with the site.</span>
<span class="sd">              newMachineName - The new name of the server machine.</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON messages as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;machineName&quot;</span> <span class="p">:</span> <span class="n">machineName</span><span class="p">,</span>
            <span class="s">&quot;newMachineName&quot;</span> <span class="p">:</span> <span class="n">newMachineName</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/rename&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="c">########################################################################</span></div></div>
<div class="viewcode-block" id="Machine"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machine">[docs]</a><span class="k">class</span> <span class="nc">Machine</span><span class="p">(</span><span class="n">BaseAGSServer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       A server machine represents a machine on which ArcGIS Server</span>
<span class="sd">       software has been installed and licensed. A site is made up one or</span>
<span class="sd">       more of such machines that work together to host GIS services and</span>
<span class="sd">       data and provide administrative capabilities for the site. Each</span>
<span class="sd">       server machine is capable of performing all these tasks and hence a</span>
<span class="sd">       site can be thought of as a distributed peer-to-peer network of such</span>
<span class="sd">       machines.</span>
<span class="sd">       A server machine communicates with its peers over a range of TCP and</span>
<span class="sd">       UDP ports that can be configured using the edit operation. For a</span>
<span class="sd">       server machine to host GIS services, it needs to be added to a</span>
<span class="sd">       cluster. Starting and stopping the server machine enables and</span>
<span class="sd">       disables, respectively, its ability to host GIS services.</span>
<span class="sd">       The administrative capabilities of the server machine are available</span>
<span class="sd">       through the ArcGIS Server Administrator API that can be accessed</span>
<span class="sd">       over HTTP(S). For a server machine to participate in a site, it must</span>
<span class="sd">       be registered with the site. A machine can participate in only one</span>
<span class="sd">       site at a time. To remove a machine permanently from the site, you</span>
<span class="sd">       can use the unregister operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_appServerMaxHeapSize</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_webServerSSLEnabled</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_webServerMaxHeapSize</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_platform</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_adminURL</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_machineName</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_ServerStartTime</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_webServerCertificateAlias</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_socMaxHeapSize</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_synchronize</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_configuredState</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_ports</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_proxy_port</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_proxy_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">token_url</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span>
                 <span class="n">initialize</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">proxy_url</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">proxy_port</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Constructor</span>
<span class="sd">            Inputs:</span>
<span class="sd">               url - admin url</span>
<span class="sd">               token_url - url to generate token</span>
<span class="sd">               username - admin username</span>
<span class="sd">               password - admin password</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span> <span class="o">=</span> <span class="n">proxy_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span> <span class="o">=</span> <span class="n">proxy_port</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">=</span> <span class="n">url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_currentURL</span> <span class="o">=</span> <span class="n">url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span> <span class="o">=</span> <span class="n">token_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_password</span> <span class="o">=</span> <span class="n">password</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="s">&quot;&quot;</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">token_url</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">tokenURL</span><span class="o">=</span><span class="n">token_url</span><span class="p">,</span>
                                              <span class="n">proxy_port</span><span class="o">=</span><span class="n">proxy_port</span><span class="p">,</span>
                                            <span class="n">proxy_url</span><span class="o">=</span><span class="n">proxy_url</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>   
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                                                       <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>                
            <span class="k">if</span> <span class="n">res</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">print</span> <span class="s">&quot;Token was not generated&quot;</span>
            <span class="k">elif</span> <span class="s">&#39;error&#39;</span> <span class="ow">in</span> <span class="n">res</span><span class="p">:</span>
                <span class="k">print</span> <span class="n">res</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">initialize</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; populates server admin information &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">json_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_currentURL</span><span class="p">,</span>
                                 <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;__&#39;</span><span class="p">)</span> <span class="ow">and</span> \
                    <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;_&#39;</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">json_dict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">attributes</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&quot;_&quot;</span><span class="o">+</span> <span class="n">k</span><span class="p">,</span> <span class="n">json_dict</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span> <span class="n">k</span><span class="p">,</span> <span class="s">&quot; - attribute not implmented for Machine&quot;</span>
            <span class="k">del</span> <span class="n">k</span>
            <span class="k">del</span> <span class="n">v</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Machine.appServerMaxHeapSize"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machine.appServerMaxHeapSize">[docs]</a>    <span class="k">def</span> <span class="nf">appServerMaxHeapSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the app server max heap size &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_appServerMaxHeapSize</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_appServerMaxHeapSize</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Machine.webServerSSLEnabled"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machine.webServerSSLEnabled">[docs]</a>    <span class="k">def</span> <span class="nf">webServerSSLEnabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; SSL enabled &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_webServerSSLEnabled</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_webServerSSLEnabled</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Machine.webServerMaxHeapSize"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machine.webServerMaxHeapSize">[docs]</a>    <span class="k">def</span> <span class="nf">webServerMaxHeapSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the web server max heap size &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_webServerMaxHeapSize</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_webServerMaxHeapSize</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Machine.platform"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machine.platform">[docs]</a>    <span class="k">def</span> <span class="nf">platform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the platform information &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_platform</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_platform</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Machine.adminURL"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machine.adminURL">[docs]</a>    <span class="k">def</span> <span class="nf">adminURL</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the administration URL &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_adminURL</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_adminURL</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Machine.machineName"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machine.machineName">[docs]</a>    <span class="k">def</span> <span class="nf">machineName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the machine name &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_machineName</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_machineName</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Machine.ServerStartTime"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machine.ServerStartTime">[docs]</a>    <span class="k">def</span> <span class="nf">ServerStartTime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the server start date/time &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ServerStartTime</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ServerStartTime</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Machine.webServerCertificateAlias"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machine.webServerCertificateAlias">[docs]</a>    <span class="k">def</span> <span class="nf">webServerCertificateAlias</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the webserver cert alias&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_webServerCertificateAlias</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_webServerCertificateAlias</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Machine.socMaxHeapSize"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machine.socMaxHeapSize">[docs]</a>    <span class="k">def</span> <span class="nf">socMaxHeapSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the soc&#39;s max heap size &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_socMaxHeapSize</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_socMaxHeapSize</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Machine.synchronize"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machine.synchronize">[docs]</a>    <span class="k">def</span> <span class="nf">synchronize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;synchronize value&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_synchronize</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_synchronize</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Machine.ports"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machine.ports">[docs]</a>    <span class="k">def</span> <span class="nf">ports</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the used ports &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ports</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ports</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Machine.configuredState"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machine.configuredState">[docs]</a>    <span class="k">def</span> <span class="nf">configuredState</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the configured state &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_configuredState</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_configuredState</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Machine.status"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machine.status">[docs]</a>    <span class="k">def</span> <span class="nf">status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the state &quot;&quot;&quot;</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/status&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Machine.startMachine"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machine.startMachine">[docs]</a>    <span class="k">def</span> <span class="nf">startMachine</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Starts the server machine &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/start&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Machine.stopMachine"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machine.stopMachine">[docs]</a>    <span class="k">def</span> <span class="nf">stopMachine</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Stops the server machine &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/stop&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Machine.unregisterMachine"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Machine.unregisterMachine">[docs]</a>    <span class="k">def</span> <span class="nf">unregisterMachine</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           This operation causes the server machine to be deleted from the</span>
<span class="sd">           Site.</span>
<span class="sd">           The server machine will no longer participate in the site or run</span>
<span class="sd">           any of the GIS services. All resources that were acquired by the</span>
<span class="sd">           server machine (memory, files, and so forth) will be released.</span>
<span class="sd">           Typically, you should only invoke this operation if the machine</span>
<span class="sd">           is going to be shut down for extended periods of time or if it</span>
<span class="sd">           is being upgraded.</span>
<span class="sd">           Once a machine has been unregistered, you can create a new site</span>
<span class="sd">           or join an existing site.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/start&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="c">########################################################################</span></div></div>
<div class="viewcode-block" id="Data"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Data">[docs]</a><span class="k">class</span> <span class="nc">Data</span><span class="p">(</span><span class="n">BaseAGSServer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       This resource provides information about the data holdings of the</span>
<span class="sd">       server. This information is used by ArcGIS for Desktop and other</span>
<span class="sd">       clients to validate data paths referenced by GIS services.</span>
<span class="sd">       You can register new data items with the server by using the</span>
<span class="sd">       Register Data Item operation. Use the Find Data Items operation to</span>
<span class="sd">       search through the hierarchy of data items.</span>
<span class="sd">       The Compute Ref Count operation counts and lists all references to a</span>
<span class="sd">       specific data item. This operation helps you determine if a</span>
<span class="sd">       particular data item can be safely deleted or refreshed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_proxy_port</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_proxy_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">token_url</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span>
                 <span class="n">initialize</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">proxy_url</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">proxy_port</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Constructor</span>
<span class="sd">            Inputs:</span>
<span class="sd">               url - admin url</span>
<span class="sd">               token_url - url to generate token</span>
<span class="sd">               username - admin username</span>
<span class="sd">               password - admin password</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span> <span class="o">=</span> <span class="n">proxy_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span> <span class="o">=</span> <span class="n">proxy_port</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">=</span> <span class="n">url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span> <span class="o">=</span> <span class="n">token_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_password</span> <span class="o">=</span> <span class="n">password</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="s">&quot;&quot;</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">token_url</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">tokenURL</span><span class="o">=</span><span class="n">token_url</span><span class="p">,</span>
                                              <span class="n">proxy_port</span><span class="o">=</span><span class="n">proxy_port</span><span class="p">,</span>
                                            <span class="n">proxy_url</span><span class="o">=</span><span class="n">proxy_url</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>   
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                                                       <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>                
            <span class="k">if</span> <span class="n">res</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">print</span> <span class="s">&quot;Token was not generated&quot;</span>
            <span class="k">elif</span> <span class="s">&#39;error&#39;</span> <span class="ow">in</span> <span class="n">res</span><span class="p">:</span>
                <span class="k">print</span> <span class="n">res</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Data.datastoreConfiguration"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Data.datastoreConfiguration">[docs]</a>    <span class="k">def</span> <span class="nf">datastoreConfiguration</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           The data store configuration properties affect the behavior of</span>
<span class="sd">           the data holdings of the server. The properties include:</span>
<span class="sd">           blockDataCopy - When this property is false, or not set at all,</span>
<span class="sd">           copying data to the site when publishing services from a client</span>
<span class="sd">           application is allowed. This is the default behavior. When this</span>
<span class="sd">           property is true, the client application is not allowed to copy</span>
<span class="sd">           data to the site when publishing. Rather, the publisher is</span>
<span class="sd">           required to register data items through which the service being</span>
<span class="sd">           published can reference data. Values: true | false</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">dURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/config&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">dURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Data.updateDatastoreConfiguration"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Data.updateDatastoreConfiguration">[docs]</a>    <span class="k">def</span> <span class="nf">updateDatastoreConfiguration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">datastoreConfig</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           This operation allows you to update the data store configuration</span>
<span class="sd">           You can use this to allow or block the automatic copying of data</span>
<span class="sd">           to the server at publish time</span>
<span class="sd">           Input:</span>
<span class="sd">              datastoreConfig - the JSON object containing the data</span>
<span class="sd">                                configuration</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON message as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;datastoreConfig&quot;</span> <span class="p">:</span> <span class="n">datastoreConfig</span>
        <span class="p">}</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/config/update&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Data.computeTotalRefCount"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Data.computeTotalRefCount">[docs]</a>    <span class="k">def</span> <span class="nf">computeTotalRefCount</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           Computes the total number of references to a given data item</span>
<span class="sd">           that exist on the server. You can use this operation to</span>
<span class="sd">           determine if a data resource can be safely deleted (or taken</span>
<span class="sd">           down for maintenance).</span>
<span class="sd">           Input:</span>
<span class="sd">              path - The complete hierarchical path to the item</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON message as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/computeTotalRefCount&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;path&quot;</span> <span class="p">:</span> <span class="n">path</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">cURL</span><span class="p">,</span>
                             <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Data.findDataItems"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Data.findDataItems">[docs]</a>    <span class="k">def</span> <span class="nf">findDataItems</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parentPath</span><span class="p">,</span> <span class="n">ancestorPath</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                      <span class="nb">type</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           You can use this operation to search through the various data</span>
<span class="sd">           items registered in the server&#39;s data store.</span>
<span class="sd">           Inputs:</span>
<span class="sd">              parentPath - The path of the parent under which to find items</span>
<span class="sd">              ancestorPath - The path of the ancestor under which to find</span>
<span class="sd">                             items.</span>
<span class="sd">              type - A filter for the type of the items</span>
<span class="sd">              id - A filter to search by the ID of the item</span>
<span class="sd">           Output:</span>
<span class="sd">              dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;parentPath&quot;</span> <span class="p">:</span> <span class="n">parentPath</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">ancestorPath</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;ancestorPath&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ancestorPath</span>
        <span class="k">if</span> <span class="nb">type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">type</span>
        <span class="k">if</span> <span class="nb">id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="n">fURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/findItems&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">fURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Data.registerDataItem"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Data.registerDataItem">[docs]</a>    <span class="k">def</span> <span class="nf">registerDataItem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           Registers a new data item with the server&#39;s data store.</span>
<span class="sd">           Input</span>
<span class="sd">              item - The JSON representing the data item.</span>
<span class="sd">                     See http://resources.arcgis.com/en/help/arcgis-rest-api/index.html#//02r3000001s9000000</span>
<span class="sd">           Output:</span>
<span class="sd">              dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;item&quot;</span> <span class="p">:</span> <span class="n">item</span><span class="p">,</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">rURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/registerItem&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">rURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Data.rootDataItems"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Data.rootDataItems">[docs]</a>    <span class="k">def</span> <span class="nf">rootDataItems</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; This resource lists data items that are the root of all other</span>
<span class="sd">            data items in the data store.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/items&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
                            <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="Data.validateAllDataItems"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Data.validateAllDataItems">[docs]</a>    <span class="k">def</span> <span class="nf">validateAllDataItems</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; validates all the items in the datastore &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
        <span class="s">&quot;token&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">}</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/validateAllDataItems&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="Data.validateDataItem"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.Data.validateDataItem">[docs]</a>    <span class="k">def</span> <span class="nf">validateDataItem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           In order for a data item to be registered and used successfully</span>
<span class="sd">           within the server&#39;s data store, you need to make sure that the</span>
<span class="sd">           path (for file shares) or connection string (for databases) is</span>
<span class="sd">           accessible to every server node in the site. This can be done by</span>
<span class="sd">           invoking the Validate Data Item operation on the JSON object</span>
<span class="sd">           representing the data store.</span>
<span class="sd">           Validating a data item does not automatically register it for</span>
<span class="sd">           you. You need to explicitly register your data item by invoking</span>
<span class="sd">           the Register Data Item operation.</span>
<span class="sd">           Input:</span>
<span class="sd">              item - The JSON representing the data item.</span>
<span class="sd">           Output:</span>
<span class="sd">              dicationary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;item&quot;</span> <span class="p">:</span> <span class="n">item</span>
        <span class="p">}</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/ validateDataItem&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
                             <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="c">########################################################################</span></div></div>
<div class="viewcode-block" id="KML"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.KML">[docs]</a><span class="k">class</span> <span class="nc">KML</span><span class="p">(</span><span class="n">BaseAGSServer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       This resource is a container for all the KMZ files created on the</span>
<span class="sd">       server.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_items</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_proxy_port</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_proxy_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">token_url</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span>
                 <span class="n">initialize</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">proxy_url</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">proxy_port</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Constructor</span>
<span class="sd">            Inputs:</span>
<span class="sd">               url - admin url</span>
<span class="sd">               token_url - url to generate token</span>
<span class="sd">               username - admin username</span>
<span class="sd">               password - admin password</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span> <span class="o">=</span> <span class="n">proxy_port</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span> <span class="o">=</span> <span class="n">proxy_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">=</span> <span class="n">url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span> <span class="o">=</span> <span class="n">token_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_password</span> <span class="o">=</span> <span class="n">password</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="s">&quot;&quot;</span> <span class="ow">and</span> \
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">token_url</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">tokenURL</span><span class="o">=</span><span class="n">token_url</span><span class="p">,</span>
                                              <span class="n">proxy_port</span><span class="o">=</span><span class="n">proxy_port</span><span class="p">,</span>
                                            <span class="n">proxy_url</span><span class="o">=</span><span class="n">proxy_url</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>   
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                                                       <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>                
            <span class="k">if</span> <span class="n">res</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">print</span> <span class="s">&quot;Token was not generated&quot;</span>
            <span class="k">elif</span> <span class="s">&#39;error&#39;</span> <span class="ow">in</span> <span class="n">res</span><span class="p">:</span>
                <span class="k">print</span> <span class="n">res</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">initialize</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; populates server admin information &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="p">}</span>
        <span class="n">json_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">,</span>
                                 <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;__&#39;</span><span class="p">)</span> <span class="ow">and</span> \
                    <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;_&#39;</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">json_dict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">attributes</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&quot;_&quot;</span><span class="o">+</span> <span class="n">k</span><span class="p">,</span> <span class="n">json_dict</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span> <span class="n">k</span><span class="p">,</span> <span class="s">&quot; - attribute not implmented for KML&quot;</span>
            <span class="k">del</span> <span class="n">k</span>
            <span class="k">del</span> <span class="n">v</span>
    <span class="c">#----------------------------------------------------------------------</span>
<div class="viewcode-block" id="KML.createKMZ"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.KML.createKMZ">[docs]</a>    <span class="k">def</span> <span class="nf">createKMZ</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kmz_as_json</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           Creates a KMZ file from json.</span>
<span class="sd">           See http://resources.arcgis.com/en/help/arcgis-rest-api/index.html#/Create_Kmz/02r3000001tm000000/</span>
<span class="sd">           for more information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">kmlURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/createKmz&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;token&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span><span class="p">,</span>
            <span class="s">&quot;kml&quot;</span> <span class="p">:</span> <span class="n">kmz_as_json</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">kmlURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="KML.items"><a class="viewcode-back" href="../../../arcrest.ags.html#arcrest.ags.administration.KML.items">[docs]</a>    <span class="k">def</span> <span class="nf">items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns list of KMZ/KML on server &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_items</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_items</span>
</pre></div></div></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">src  documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Esri.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>arcrest.agol.layer &mdash; src  documentation</title>
    
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="src  documentation" href="../../../index.html" />
    <link rel="up" title="Module code" href="../../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">src  documentation</a> &raquo;</li>
          <li><a href="../../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for arcrest.agol.layer</h1><div class="highlight"><pre>
<span class="sd">&quot;&quot;&quot;</span>

<span class="sd">.. module:: layer</span>
<span class="sd">   :platform: Windows, Linux</span>
<span class="sd">   :synopsis: Class that contians feature service layer information.</span>

<span class="sd">.. moduleauthor:: Esri</span>


<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">types</span>
<span class="kn">import</span> <span class="nn">common</span>
<span class="kn">import</span> <span class="nn">filters</span>
<span class="kn">import</span> <span class="nn">featureservice</span>
<span class="kn">from</span> <span class="nn">base</span> <span class="kn">import</span> <span class="n">BaseAGOLClass</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">urlparse</span>
<span class="kn">import</span> <span class="nn">mimetypes</span>
<span class="kn">import</span> <span class="nn">uuid</span>
<span class="c">########################################################################</span>
<div class="viewcode-block" id="FeatureLayer"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer">[docs]</a><span class="k">class</span> <span class="nc">FeatureLayer</span><span class="p">(</span><span class="n">BaseAGOLClass</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       This contains information about a feature service&#39;s layer.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_objectIdField</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_allowGeometryUpdates</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_globalIdField</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_token_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_currentVersion</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_id</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_name</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_type</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_description</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_definitionExpression</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_geometryType</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_hasZ</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_hasM</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_copyrightText</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_parentLayer</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_subLayers</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_minScale</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_maxScale</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_effectiveMinScale</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_effectiveMaxScale</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_defaultVisibility</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_extent</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_timeInfo</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_drawingInfo</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_hasAttachments</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_htmlPopupType</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_displayField</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_typeIdField</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_fields</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_types</span> <span class="o">=</span> <span class="bp">None</span> <span class="c"># sub-types</span>
    <span class="n">_relationships</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_maxRecordCount</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_canModifyLayer</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_supportsStatistics</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_supportsAdvancedQueries</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_hasLabels</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_canScaleSymbols</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_capabilities</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_supportedQueryFormats</span> <span class="o">=</span>  <span class="bp">None</span>
    <span class="n">_isDataVersioned</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_ownershipBasedAccessControlForFeatures</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_useStandardizedQueries</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_templates</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_indexes</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_hasStaticData</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_supportsRollbackOnFailureParameter</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_advancedQueryCapabilities</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_editingInfo</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_proxy_url</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">_proxy_port</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span>
                 <span class="n">username</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">password</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">token_url</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">initialize</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                 <span class="n">proxy_url</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">proxy_port</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Constructor&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">=</span> <span class="n">url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span> <span class="o">=</span> <span class="n">token_url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_password</span> <span class="o">=</span> <span class="n">password</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span> <span class="o">=</span> <span class="n">proxy_port</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span> <span class="o">=</span> <span class="n">proxy_url</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">username</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span>\
           <span class="ow">not</span> <span class="n">password</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">token_url</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">tokenURL</span><span class="o">=</span><span class="n">token_url</span><span class="p">,</span>
                                                  <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                                                  <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_token</span><span class="p">(</span><span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                                          <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">res</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;Unable to get token&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="o">=</span><span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">initialize</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; initializes the service &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;token&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="n">json_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span>
                                 <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                                 <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>
        <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                      <span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;__&#39;</span><span class="p">)</span> <span class="ow">and</span> \
                      <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;_&#39;</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">json_dict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">attributes</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&quot;_&quot;</span><span class="o">+</span> <span class="n">k</span><span class="p">,</span> <span class="n">json_dict</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">print</span> <span class="n">k</span><span class="p">,</span> <span class="s">&quot; - attribute not implmented in Feature Layer.&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parentLayer</span> <span class="o">=</span> <span class="n">featureservice</span><span class="o">.</span><span class="n">FeatureService</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">),</span>
            <span class="n">token_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_token_url</span><span class="p">,</span>
            <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_username</span><span class="p">,</span>
            <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_password</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns object as string &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="n">common</span><span class="o">.</span><span class="n">_date_handler</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; iterator generator for public values/properties</span>
<span class="sd">            It only returns the properties that are public.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                      <span class="k">if</span> <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;__&#39;</span><span class="p">)</span> <span class="ow">and</span> \
                      <span class="ow">not</span> <span class="n">attr</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;_&#39;</span><span class="p">)</span> <span class="ow">and</span> \
                      <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">),</span> <span class="p">(</span><span class="n">types</span><span class="o">.</span><span class="n">MethodType</span><span class="p">,</span>
                                                           <span class="n">types</span><span class="o">.</span><span class="n">BuiltinFunctionType</span><span class="p">,</span>
                                                           <span class="n">types</span><span class="o">.</span><span class="n">BuiltinMethodType</span><span class="p">))</span>
                      <span class="p">]</span>
        <span class="k">for</span> <span class="n">att</span> <span class="ow">in</span> <span class="n">attributes</span><span class="p">:</span>
            <span class="k">yield</span> <span class="p">(</span><span class="n">att</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">att</span><span class="p">))</span>
    <span class="c">#----------------------------------------------------------------------</span>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.editingInfo"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.editingInfo">[docs]</a>    <span class="k">def</span> <span class="nf">editingInfo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the edit information &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_editingInfo</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_editingInfo</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.advancedQueryCapabilities"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.advancedQueryCapabilities">[docs]</a>    <span class="k">def</span> <span class="nf">advancedQueryCapabilities</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the advanced query capabilities &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_advancedQueryCapabilities</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_advancedQueryCapabilities</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.supportsRollbackOnFailureParameter"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.supportsRollbackOnFailureParameter">[docs]</a>    <span class="k">def</span> <span class="nf">supportsRollbackOnFailureParameter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns if rollback on failure supported &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_supportsRollbackOnFailureParameter</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_supportsRollbackOnFailureParameter</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.hasStaticData"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.hasStaticData">[docs]</a>    <span class="k">def</span> <span class="nf">hasStaticData</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;boolean T/F if static data is present &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hasStaticData</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hasStaticData</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.indexes"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.indexes">[docs]</a>    <span class="k">def</span> <span class="nf">indexes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;gets the indexes&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indexes</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indexes</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.templates"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.templates">[docs]</a>    <span class="k">def</span> <span class="nf">templates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; gets the template &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_templates</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_templates</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.allowGeometryUpdates"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.allowGeometryUpdates">[docs]</a>    <span class="k">def</span> <span class="nf">allowGeometryUpdates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns boolean if geometry updates are allowed &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allowGeometryUpdates</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allowGeometryUpdates</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.globalIdField"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.globalIdField">[docs]</a>    <span class="k">def</span> <span class="nf">globalIdField</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the global id field &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_globalIdField</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_globalIdField</span>

    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.objectIdField"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.objectIdField">[docs]</a>    <span class="k">def</span> <span class="nf">objectIdField</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_objectIdField</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_objectIdField</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.currentVersion"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.currentVersion">[docs]</a>    <span class="k">def</span> <span class="nf">currentVersion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the current version &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_currentVersion</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_currentVersion</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.id"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.id">[docs]</a>    <span class="k">def</span> <span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the id &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.name"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.name">[docs]</a>    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the name &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.type"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.type">[docs]</a>    <span class="k">def</span> <span class="nf">type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the type &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_type</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_type</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.description"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.description">[docs]</a>    <span class="k">def</span> <span class="nf">description</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the layer&#39;s description &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_description</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_description</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.definitionExpression"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.definitionExpression">[docs]</a>    <span class="k">def</span> <span class="nf">definitionExpression</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns the definitionExpression&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_definitionExpression</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_definitionExpression</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.geometryType"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.geometryType">[docs]</a>    <span class="k">def</span> <span class="nf">geometryType</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns the geometry type&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometryType</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometryType</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.hasZ"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.hasZ">[docs]</a>    <span class="k">def</span> <span class="nf">hasZ</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns if it has a Z value or not &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hasZ</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hasZ</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.hasM"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.hasM">[docs]</a>    <span class="k">def</span> <span class="nf">hasM</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns if it has a m value or not &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hasM</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hasM</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.copyrightText"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.copyrightText">[docs]</a>    <span class="k">def</span> <span class="nf">copyrightText</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the copyright text &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_copyrightText</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_copyrightText</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.parentLayer"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.parentLayer">[docs]</a>    <span class="k">def</span> <span class="nf">parentLayer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns information about the parent &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parentLayer</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parentLayer</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.subLayers"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.subLayers">[docs]</a>    <span class="k">def</span> <span class="nf">subLayers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns sublayers for layer &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_subLayers</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_subLayers</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.minScale"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.minScale">[docs]</a>    <span class="k">def</span> <span class="nf">minScale</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; minimum scale layer will show &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minScale</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_minScale</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.maxScale"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.maxScale">[docs]</a>    <span class="k">def</span> <span class="nf">maxScale</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; sets the max scale &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maxScale</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maxScale</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.effectiveMinScale"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.effectiveMinScale">[docs]</a>    <span class="k">def</span> <span class="nf">effectiveMinScale</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the effective minimum scale value &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_effectiveMinScale</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_effectiveMinScale</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.effectiveMaxScale"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.effectiveMaxScale">[docs]</a>    <span class="k">def</span> <span class="nf">effectiveMaxScale</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the effective maximum scale value &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_effectiveMaxScale</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_effectiveMaxScale</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.defaultVisibility"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.defaultVisibility">[docs]</a>    <span class="k">def</span> <span class="nf">defaultVisibility</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the default visibility of the layer &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaultVisibility</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaultVisibility</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.extent"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.extent">[docs]</a>    <span class="k">def</span> <span class="nf">extent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the extent &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extent</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extent</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.timeInfo"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.timeInfo">[docs]</a>    <span class="k">def</span> <span class="nf">timeInfo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the time information about the layer &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timeInfo</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timeInfo</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.drawingInfo"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.drawingInfo">[docs]</a>    <span class="k">def</span> <span class="nf">drawingInfo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the symbol information about the layer &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_drawingInfo</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_drawingInfo</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.hasAttachments"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.hasAttachments">[docs]</a>    <span class="k">def</span> <span class="nf">hasAttachments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; boolean that tells if attachments are associated with layer &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hasAttachments</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hasAttachments</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.htmlPopupType"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.htmlPopupType">[docs]</a>    <span class="k">def</span> <span class="nf">htmlPopupType</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the popup type  &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_htmlPopupType</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_htmlPopupType</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.displayField"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.displayField">[docs]</a>    <span class="k">def</span> <span class="nf">displayField</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the primary display field &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_displayField</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_displayField</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.typeIdField"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.typeIdField">[docs]</a>    <span class="k">def</span> <span class="nf">typeIdField</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the type Id field &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_typeIdField</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_typeIdField</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.fields"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.fields">[docs]</a>    <span class="k">def</span> <span class="nf">fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the layer&#39;s fields &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fields</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fields</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.types"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.types">[docs]</a>    <span class="k">def</span> <span class="nf">types</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the types &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_types</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_types</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.relationships"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.relationships">[docs]</a>    <span class="k">def</span> <span class="nf">relationships</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the relationships for the layer &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_relationships</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_relationships</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.maxRecordCount"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.maxRecordCount">[docs]</a>    <span class="k">def</span> <span class="nf">maxRecordCount</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns the maximum returned records &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maxRecordCount</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maxRecordCount</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_maxRecordCount</span> <span class="o">=</span> <span class="mi">1000</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maxRecordCount</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.canModifyLayer"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.canModifyLayer">[docs]</a>    <span class="k">def</span> <span class="nf">canModifyLayer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns boolean to say if layer can be modified &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_canModifyLayer</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_canModifyLayer</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.supportsStatistics"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.supportsStatistics">[docs]</a>    <span class="k">def</span> <span class="nf">supportsStatistics</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  boolean to if supports statistics &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_supportsStatistics</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_supportsStatistics</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.supportsAdvancedQueries"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.supportsAdvancedQueries">[docs]</a>    <span class="k">def</span> <span class="nf">supportsAdvancedQueries</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; boolean value if advanced queries is supported &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_supportsAdvancedQueries</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_supportsAdvancedQueries</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.hasLabels"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.hasLabels">[docs]</a>    <span class="k">def</span> <span class="nf">hasLabels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns if layer has labels on or not &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hasLabels</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hasLabels</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.canScaleSymbols"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.canScaleSymbols">[docs]</a>    <span class="k">def</span> <span class="nf">canScaleSymbols</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; states if symbols can scale &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_canScaleSymbols</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_canScaleSymbols</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.capabilities"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.capabilities">[docs]</a>    <span class="k">def</span> <span class="nf">capabilities</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; operations that can be performed on layer &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_capabilities</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_capabilities</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.supportedQueryFormats"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.supportedQueryFormats">[docs]</a>    <span class="k">def</span> <span class="nf">supportedQueryFormats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns supported query formats &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_supportedQueryFormats</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_supportedQueryFormats</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.isDataVersioned"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.isDataVersioned">[docs]</a>    <span class="k">def</span> <span class="nf">isDataVersioned</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns boolean if data is in version control &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isDataVersioned</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isDataVersioned</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.ownershipBasedAccessControlForFeatures"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.ownershipBasedAccessControlForFeatures">[docs]</a>    <span class="k">def</span> <span class="nf">ownershipBasedAccessControlForFeatures</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns value for owernship based access control &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ownershipBasedAccessControlForFeatures</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ownershipBasedAccessControlForFeatures</span></div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="FeatureLayer.useStandardizedQueries"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.useStandardizedQueries">[docs]</a>    <span class="k">def</span> <span class="nf">useStandardizedQueries</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; returns value if standardized queries can be used &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_useStandardizedQueries</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_useStandardizedQueries</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="FeatureLayer.addAttachment"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.addAttachment">[docs]</a>    <span class="k">def</span> <span class="nf">addAttachment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">oid</span><span class="p">,</span> <span class="n">file_path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Adds an attachment to a feature service</span>
<span class="sd">            Input:</span>
<span class="sd">              oid - string - OBJECTID value to add attachment to</span>
<span class="sd">              file_path - string - path to file</span>
<span class="sd">            Output:</span>
<span class="sd">              JSON Repsonse</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasAttachments</span> <span class="o">==</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">attachURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/</span><span class="si">%s</span><span class="s">/addAttachment&quot;</span> <span class="o">%</span> <span class="n">oid</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;f&#39;</span><span class="p">:</span><span class="s">&#39;json&#39;</span><span class="p">}</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s">&#39;token&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
            <span class="n">parsed</span> <span class="o">=</span> <span class="n">urlparse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">attachURL</span><span class="p">)</span>

            <span class="n">files</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">files</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s">&#39;attachment&#39;</span><span class="p">,</span> <span class="n">file_path</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_path</span><span class="p">)))</span>
            <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_post_multipart</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="n">parsed</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span>
                                       <span class="n">selector</span><span class="o">=</span><span class="n">parsed</span><span class="o">.</span><span class="n">path</span><span class="p">,</span>
                                       <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">,</span>
                                       <span class="n">fields</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
                                       <span class="n">port</span><span class="o">=</span><span class="n">parsed</span><span class="o">.</span><span class="n">port</span><span class="p">,</span>
                                       <span class="n">ssl</span><span class="o">=</span><span class="n">parsed</span><span class="o">.</span><span class="n">scheme</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s">&#39;https&#39;</span><span class="p">,</span>
                                       <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">,</span>
                                       <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unicode_convert</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">res</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">&quot;Attachments are not supported for this feature service.&quot;</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="FeatureLayer.deleteAttachment"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.deleteAttachment">[docs]</a>    <span class="k">def</span> <span class="nf">deleteAttachment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">oid</span><span class="p">,</span> <span class="n">attachment_id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; removes an attachment from a feature service feature</span>
<span class="sd">            Input:</span>
<span class="sd">              oid - integer or string - id of feature</span>
<span class="sd">              attachment_id - integer - id of attachment to erase</span>
<span class="sd">            Output:</span>
<span class="sd">               JSON response</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/</span><span class="si">%s</span><span class="s">/deleteAttachments&quot;</span> <span class="o">%</span> <span class="n">oid</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span><span class="p">:</span><span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;attachmentIds&quot;</span> <span class="p">:</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">attachment_id</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;token&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                             <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="FeatureLayer.updateAttachment"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.updateAttachment">[docs]</a>    <span class="k">def</span> <span class="nf">updateAttachment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">oid</span><span class="p">,</span> <span class="n">attachment_id</span><span class="p">,</span> <span class="n">file_path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; updates an existing attachment with a new file</span>
<span class="sd">            Inputs:</span>
<span class="sd">               oid - string/integer - Unique record ID</span>
<span class="sd">               attachment_id - integer - Unique attachment identifier</span>
<span class="sd">               file_path - string - path to new attachment</span>
<span class="sd">            Output:</span>
<span class="sd">               JSON response</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/</span><span class="si">%s</span><span class="s">/updateAttachment&quot;</span> <span class="o">%</span> <span class="n">oid</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span><span class="p">:</span><span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;attachmentId&quot;</span> <span class="p">:</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">attachment_id</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;token&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="n">parsed</span> <span class="o">=</span> <span class="n">urlparse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="n">port</span> <span class="o">=</span> <span class="n">parsed</span><span class="o">.</span><span class="n">port</span>
        <span class="n">files</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">files</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s">&#39;attachment&#39;</span><span class="p">,</span> <span class="n">file_path</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_path</span><span class="p">)))</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_post_multipart</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="n">parsed</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span>
                                   <span class="n">selector</span><span class="o">=</span><span class="n">parsed</span><span class="o">.</span><span class="n">path</span><span class="p">,</span>
                                   <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">,</span>
                                   <span class="n">port</span><span class="o">=</span><span class="n">port</span><span class="p">,</span>
                                   <span class="n">fields</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
                                   <span class="n">ssl</span><span class="o">=</span><span class="n">parsed</span><span class="o">.</span><span class="n">scheme</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s">&#39;https&#39;</span><span class="p">,</span>
                                   <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                                   <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unicode_convert</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">res</span><span class="p">))</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="FeatureLayer.listAttachments"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.listAttachments">[docs]</a>    <span class="k">def</span> <span class="nf">listAttachments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">oid</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; list attachements for a given OBJECT ID &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/</span><span class="si">%s</span><span class="s">/attachments&quot;</span> <span class="o">%</span> <span class="n">oid</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span><span class="p">:</span><span class="s">&quot;json&quot;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;token&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                            <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="FeatureLayer.create_fc_template"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.create_fc_template">[docs]</a>    <span class="k">def</span> <span class="nf">create_fc_template</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">out_path</span><span class="p">,</span> <span class="n">out_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;creates a featureclass template on local disk&quot;&quot;&quot;</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fields</span>
        <span class="n">objectIdField</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">objectIdField</span>
        <span class="n">geomType</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometryType</span>
        <span class="n">wkid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parentLayer</span><span class="o">.</span><span class="n">spatialReference</span><span class="p">[</span><span class="s">&#39;wkid&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">common</span><span class="o">.</span><span class="n">create_feature_class</span><span class="p">(</span><span class="n">out_path</span><span class="p">,</span>
                                           <span class="n">out_name</span><span class="p">,</span>
                                           <span class="n">geomType</span><span class="p">,</span>
                                           <span class="n">wkid</span><span class="p">,</span>
                                           <span class="n">fields</span><span class="p">,</span>
                                           <span class="n">objectIdField</span><span class="p">)</span></div>
<div class="viewcode-block" id="FeatureLayer.create_feature_template"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.create_feature_template">[docs]</a>    <span class="k">def</span> <span class="nf">create_feature_template</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;creates a feature template&quot;&quot;&quot;</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fields</span>
        <span class="n">feat_schema</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">att</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">fld</span> <span class="ow">in</span> <span class="n">fields</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_globalIdField</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">fld</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_objectIdField</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">fld</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_globalIdField</span><span class="p">:</span>
                <span class="n">att</span><span class="p">[</span><span class="n">fld</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>

        <span class="n">feat_schema</span><span class="p">[</span><span class="s">&#39;attributes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">att</span>
        <span class="n">feat_schema</span><span class="p">[</span><span class="s">&#39;geometry&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
        <span class="k">return</span> <span class="n">common</span><span class="o">.</span><span class="n">Feature</span><span class="p">(</span><span class="n">feat_schema</span><span class="p">)</span>

    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="FeatureLayer.query"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.query">[docs]</a>    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
              <span class="n">where</span><span class="o">=</span><span class="s">&quot;1=1&quot;</span><span class="p">,</span>
              <span class="n">out_fields</span><span class="o">=</span><span class="s">&quot;*&quot;</span><span class="p">,</span>
              <span class="n">timeFilter</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
              <span class="n">geometryFilter</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
              <span class="n">returnGeometry</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
              <span class="n">returnIDsOnly</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
              <span class="n">returnCountOnly</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
              <span class="n">returnFeatureClass</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
              <span class="n">out_fc</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; queries a feature service based on a sql statement</span>
<span class="sd">            Inputs:</span>
<span class="sd">               where - the selection sql statement</span>
<span class="sd">               out_fields - the attribute fields to return</span>
<span class="sd">               timeFilter - a TimeFilter object where either the start time</span>
<span class="sd">                            or start and end time are defined to limit the</span>
<span class="sd">                            search results for a given time.  The values in</span>
<span class="sd">                            the timeFilter should be as UTC timestampes in</span>
<span class="sd">                            milliseconds.  No checking occurs to see if they</span>
<span class="sd">                            are in the right format.</span>
<span class="sd">               geometryFilter - a GeometryFilter object to parse down a given</span>
<span class="sd">                               query by another spatial dataset.</span>
<span class="sd">               returnGeometry - true means a geometry will be returned,</span>
<span class="sd">                                else just the attributes</span>
<span class="sd">               returnIDsOnly - false is default.  True means only OBJECTIDs</span>
<span class="sd">                               will be returned</span>
<span class="sd">               returnCountOnly - if True, then an integer is returned only</span>
<span class="sd">                                 based on the sql statement</span>
<span class="sd">               returnFeatureClass - Default False. If true, query will be</span>
<span class="sd">                                    returned as feature class</span>
<span class="sd">               out_fc - only valid if returnFeatureClass is set to True.</span>
<span class="sd">                        Output location of query.</span>
<span class="sd">            Output:</span>
<span class="sd">               A list of Feature Objects (default) or a path to the output featureclass if</span>
<span class="sd">               returnFeatureClass is set to True.</span>
<span class="sd">         &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;f&quot;</span><span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
                  <span class="s">&quot;where&quot;</span><span class="p">:</span> <span class="n">where</span><span class="p">,</span>
                  <span class="s">&quot;outFields&quot;</span><span class="p">:</span> <span class="n">out_fields</span><span class="p">,</span>
                  <span class="s">&quot;returnGeometry&quot;</span> <span class="p">:</span> <span class="n">returnGeometry</span><span class="p">,</span>
                  <span class="s">&quot;returnIdsOnly&quot;</span> <span class="p">:</span> <span class="n">returnIDsOnly</span><span class="p">,</span>
                  <span class="s">&quot;returnCountOnly&quot;</span> <span class="p">:</span> <span class="n">returnCountOnly</span><span class="p">,</span>
                  <span class="p">}</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&quot;token&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">timeFilter</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="nb">isinstance</span><span class="p">(</span><span class="n">timeFilter</span><span class="p">,</span> <span class="n">filters</span><span class="o">.</span><span class="n">TimeFilter</span><span class="p">):</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">timeFilter</span><span class="o">.</span><span class="n">filter</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">geometryFilter</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="nb">isinstance</span><span class="p">(</span><span class="n">geometryFilter</span><span class="p">,</span> <span class="n">filters</span><span class="o">.</span><span class="n">GeometryFilter</span><span class="p">):</span>
            <span class="n">gf</span> <span class="o">=</span> <span class="n">geometryFilter</span><span class="o">.</span><span class="n">filter</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;geometry&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gf</span><span class="p">[</span><span class="s">&#39;geometry&#39;</span><span class="p">]</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;geometryType&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gf</span><span class="p">[</span><span class="s">&#39;geometryType&#39;</span><span class="p">]</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;spatialRelationship&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gf</span><span class="p">[</span><span class="s">&#39;spatialRel&#39;</span><span class="p">]</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;inSR&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gf</span><span class="p">[</span><span class="s">&#39;inSR&#39;</span><span class="p">]</span>
        <span class="n">fURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/query&quot;</span>
        <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">fURL</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                               <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>
        <span class="k">if</span> <span class="s">&#39;error&#39;</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span> <span class="p">(</span><span class="n">results</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">returnCountOnly</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">returnIDsOnly</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">returnFeatureClass</span><span class="p">:</span>
                <span class="n">json_text</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
                <span class="n">temp</span> <span class="o">=</span> <span class="n">common</span><span class="o">.</span><span class="n">scratchFolder</span><span class="p">()</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span> <span class="o">+</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span><span class="o">.</span><span class="n">get_hex</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot;.json&quot;</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span> <span class="s">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">writer</span><span class="p">:</span>
                    <span class="n">writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json_text</span><span class="p">)</span>
                    <span class="n">writer</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
                <span class="k">del</span> <span class="n">writer</span>
                <span class="n">fc</span> <span class="o">=</span> <span class="n">common</span><span class="o">.</span><span class="n">json_to_featureclass</span><span class="p">(</span><span class="n">json_file</span><span class="o">=</span><span class="n">temp</span><span class="p">,</span>
                                                   <span class="n">out_fc</span><span class="o">=</span><span class="n">out_fc</span><span class="p">)</span>
                <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">fc</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">feats</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">results</span><span class="p">[</span><span class="s">&#39;features&#39;</span><span class="p">]:</span>
                    <span class="n">feats</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">common</span><span class="o">.</span><span class="n">Feature</span><span class="p">(</span><span class="n">res</span><span class="p">))</span>
                <span class="k">return</span> <span class="n">feats</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">results</span>
        <span class="k">return</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="FeatureLayer.query_related_records"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.query_related_records">[docs]</a>    <span class="k">def</span> <span class="nf">query_related_records</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                              <span class="n">objectIds</span><span class="p">,</span>
                              <span class="n">relationshipId</span><span class="p">,</span>
                              <span class="n">outFields</span><span class="o">=</span><span class="s">&quot;*&quot;</span><span class="p">,</span>
                              <span class="n">definitionExpression</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                              <span class="n">returnGeometry</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                              <span class="n">maxAllowableOffset</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                              <span class="n">geometryPrecision</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                              <span class="n">outWKID</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                              <span class="n">gdbVersion</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                              <span class="n">returnZ</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                              <span class="n">returnM</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           The Query operation is performed on a feature service layer</span>
<span class="sd">           resource. The result of this operation are feature sets grouped</span>
<span class="sd">           by source layer/table object IDs. Each feature set contains</span>
<span class="sd">           Feature objects including the values for the fields requested by</span>
<span class="sd">           the user. For related layers, if you request geometry</span>
<span class="sd">           information, the geometry of each feature is also returned in</span>
<span class="sd">           the feature set. For related tables, the feature set does not</span>
<span class="sd">           include geometries.</span>
<span class="sd">           Inputs:</span>
<span class="sd">              objectIds - the object IDs of the table/layer to be queried</span>
<span class="sd">              relationshipId - The ID of the relationship to be queried.</span>
<span class="sd">              outFields - the list of fields from the related table/layer</span>
<span class="sd">                          to be included in the returned feature set. This</span>
<span class="sd">                          list is a comma delimited list of field names. If</span>
<span class="sd">                          you specify the shape field in the list of return</span>
<span class="sd">                          fields, it is ignored. To request geometry, set</span>
<span class="sd">                          returnGeometry to true.</span>
<span class="sd">                          You can also specify the wildcard &quot;*&quot; as the</span>
<span class="sd">                          value of this parameter. In this case, the result</span>
<span class="sd">                          s will include all the field values.</span>
<span class="sd">              definitionExpression - The definition expression to be</span>
<span class="sd">                                     applied to the related table/layer.</span>
<span class="sd">                                     From the list of objectIds, only those</span>
<span class="sd">                                     records that conform to this</span>
<span class="sd">                                     expression are queried for related</span>
<span class="sd">                                     records.</span>
<span class="sd">              returnGeometry - If true, the feature set includes the</span>
<span class="sd">                               geometry associated with each feature. The</span>
<span class="sd">                               default is true.</span>
<span class="sd">              maxAllowableOffset - This option can be used to specify the</span>
<span class="sd">                                   maxAllowableOffset to be used for</span>
<span class="sd">                                   generalizing geometries returned by the</span>
<span class="sd">                                   query operation. The maxAllowableOffset</span>
<span class="sd">                                   is in the units of the outSR. If outSR</span>
<span class="sd">                                   is not specified, then</span>
<span class="sd">                                   maxAllowableOffset is assumed to be in</span>
<span class="sd">                                   the unit of the spatial reference of the</span>
<span class="sd">                                   map.</span>
<span class="sd">              geometryPrecision - This option can be used to specify the</span>
<span class="sd">                                  number of decimal places in the response</span>
<span class="sd">                                  geometries.</span>
<span class="sd">              outWKID - The spatial reference of the returned geometry.</span>
<span class="sd">              gdbVersion - The geodatabase version to query. This parameter</span>
<span class="sd">                           applies only if the isDataVersioned property of</span>
<span class="sd">                           the layer queried is true.</span>
<span class="sd">              returnZ - If true, Z values are included in the results if</span>
<span class="sd">                        the features have Z values. Otherwise, Z values are</span>
<span class="sd">                        not returned. The default is false.</span>
<span class="sd">              returnM - If true, M values are included in the results if</span>
<span class="sd">                        the features have M values. Otherwise, M values are</span>
<span class="sd">                        not returned. The default is false.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;objectIds&quot;</span> <span class="p">:</span> <span class="n">objectIds</span><span class="p">,</span>
            <span class="s">&quot;relationshipId&quot;</span> <span class="p">:</span> <span class="n">relationshipId</span><span class="p">,</span>
            <span class="s">&quot;outFields&quot;</span> <span class="p">:</span> <span class="n">outFields</span><span class="p">,</span>
            <span class="s">&quot;returnGeometry&quot;</span> <span class="p">:</span> <span class="n">returnGeometry</span><span class="p">,</span>
            <span class="s">&quot;returnM&quot;</span> <span class="p">:</span> <span class="n">returnM</span><span class="p">,</span>
            <span class="s">&quot;returnZ&quot;</span> <span class="p">:</span> <span class="n">returnZ</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;token&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="k">if</span> <span class="n">gdbVersion</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;gdbVersion&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gdbVersion</span>
        <span class="k">if</span> <span class="n">definitionExpression</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;definitionExpression&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">definitionExpression</span>
        <span class="k">if</span> <span class="n">outWKID</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;outSR&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">common</span><span class="o">.</span><span class="n">SpatialReference</span><span class="p">(</span><span class="n">outWKID</span><span class="p">)</span><span class="o">.</span><span class="n">asDictionary</span>
        <span class="k">if</span> <span class="n">maxAllowableOffset</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;maxAllowableOffset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">maxAllowableOffset</span>
        <span class="k">if</span> <span class="n">geometryPrecision</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;geometryPrecision&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">geometryPrecision</span>
        <span class="n">quURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/queryRelatedRecords&quot;</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">quURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
                           <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                           <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="FeatureLayer.getHTMLPopup"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.getHTMLPopup">[docs]</a>    <span class="k">def</span> <span class="nf">getHTMLPopup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">oid</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           The htmlPopup resource provides details about the HTML pop-up</span>
<span class="sd">           authored by the user using ArcGIS for Desktop.</span>
<span class="sd">           Input:</span>
<span class="sd">              oid - object id of the feature where the HTML pop-up</span>
<span class="sd">           Output:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">htmlPopupType</span> <span class="o">!=</span> <span class="s">&quot;esriServerHTMLPopupTypeNone&quot;</span><span class="p">:</span>
            <span class="n">popURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/</span><span class="si">%s</span><span class="s">/htmlPopup&quot;</span> <span class="o">%</span> <span class="n">oid</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s">&#39;f&#39;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="s">&#39;token&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">popURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                                <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>
        <span class="k">return</span> <span class="s">&quot;&quot;</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
    <span class="k">def</span> <span class="nf">_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Yield n successive chunks from a list l.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">l</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">newn</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">1.0</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="o">/</span> <span class="n">n</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="n">newn</span><span class="p">:</span><span class="n">i</span><span class="o">*</span><span class="n">newn</span><span class="o">+</span><span class="n">newn</span><span class="p">]</span>
        <span class="k">yield</span> <span class="n">l</span><span class="p">[</span><span class="n">n</span><span class="o">*</span><span class="n">newn</span><span class="o">-</span><span class="n">newn</span><span class="p">:]</span>
    <span class="c">#----------------------------------------------------------------------</span>
<div class="viewcode-block" id="FeatureLayer.get_local_copy"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.get_local_copy">[docs]</a>    <span class="k">def</span> <span class="nf">get_local_copy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">out_path</span><span class="p">,</span> <span class="n">includeAttachments</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; exports the whole feature service to a feature class</span>
<span class="sd">            Input:</span>
<span class="sd">               out_path - path to where the data will be placed</span>
<span class="sd">               includeAttachments - default False. If sync is not supported</span>
<span class="sd">                                    then the paramter is ignored.</span>
<span class="sd">            Output:</span>
<span class="sd">               path to exported feature class or fgdb (as list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasAttachments</span> <span class="ow">and</span> \
           <span class="bp">self</span><span class="o">.</span><span class="n">parentLayer</span><span class="o">.</span><span class="n">syncEnabled</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parentLayer</span><span class="o">.</span><span class="n">createReplica</span><span class="p">(</span><span class="n">replicaName</span><span class="o">=</span><span class="s">&quot;fgdb_dump&quot;</span><span class="p">,</span>
                                                  <span class="n">layers</span><span class="o">=</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                                                  <span class="n">returnAsFeatureClass</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                                  <span class="n">returnAttachments</span><span class="o">=</span><span class="n">includeAttachments</span><span class="p">,</span>
                                                  <span class="n">out_path</span><span class="o">=</span><span class="n">out_path</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasAttachments</span> <span class="o">==</span> <span class="bp">False</span> <span class="ow">and</span> \
             <span class="bp">self</span><span class="o">.</span><span class="n">parentLayer</span><span class="o">.</span><span class="n">syncEnabled</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parentLayer</span><span class="o">.</span><span class="n">createReplica</span><span class="p">(</span><span class="n">replicaName</span><span class="o">=</span><span class="s">&quot;fgdb_dump&quot;</span><span class="p">,</span>
                                                  <span class="n">layers</span><span class="o">=</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                                                  <span class="n">returnAsFeatureClass</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                                  <span class="n">out_path</span><span class="o">=</span><span class="n">out_path</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result_features</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">returnIDsOnly</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
            <span class="n">OIDS</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s">&#39;objectIds&#39;</span><span class="p">]</span>
            <span class="n">OIDS</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
            <span class="n">OIDField</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s">&#39;objectIdFieldName&#39;</span><span class="p">]</span>
            <span class="n">count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">OIDS</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">count</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxRecordCount</span><span class="p">:</span>
                <span class="n">bins</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">bins</span> <span class="o">=</span> <span class="n">count</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxRecordCount</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">count</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxRecordCount</span>
                <span class="k">if</span> <span class="n">v</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">bins</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">chunks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_chunks</span><span class="p">(</span><span class="n">OIDS</span><span class="p">,</span> <span class="n">bins</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">chunks</span><span class="p">:</span>
                <span class="n">chunk</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
                <span class="n">sql</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> &gt;= </span><span class="si">%s</span><span class="s"> and </span><span class="si">%s</span><span class="s"> &lt;= </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">OIDField</span><span class="p">,</span> <span class="n">chunk</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                                 <span class="n">OIDField</span><span class="p">,</span> <span class="n">chunk</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                <span class="n">temp_base</span> <span class="o">=</span> <span class="s">&quot;a&quot;</span> <span class="o">+</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span><span class="o">.</span><span class="n">get_hex</span><span class="p">()[:</span><span class="mi">6</span><span class="p">]</span> <span class="o">+</span> <span class="s">&quot;a&quot;</span>
                <span class="n">temp_fc</span> <span class="o">=</span> <span class="s">r&quot;</span><span class="si">%s</span><span class="s">\</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">common</span><span class="o">.</span><span class="n">scratchGDB</span><span class="p">(),</span> <span class="n">temp_base</span><span class="p">)</span>
                <span class="n">temp_fc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">where</span><span class="o">=</span><span class="n">sql</span><span class="p">,</span>
                                     <span class="n">returnFeatureClass</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                                     <span class="n">out_fc</span><span class="o">=</span><span class="n">temp_fc</span><span class="p">)</span>
                <span class="n">result_features</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temp_fc</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">common</span><span class="o">.</span><span class="n">merge_feature_class</span><span class="p">(</span><span class="n">merges</span><span class="o">=</span><span class="n">result_features</span><span class="p">,</span>
                                              <span class="n">out_fc</span><span class="o">=</span><span class="n">out_path</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="FeatureLayer.updateFeature"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.updateFeature">[docs]</a>    <span class="k">def</span> <span class="nf">updateFeature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                      <span class="n">features</span><span class="p">,</span>
                      <span class="n">gdbVersion</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                      <span class="n">rollbackOnFailure</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           updates an existing feature in a feature service layer</span>
<span class="sd">           Input:</span>
<span class="sd">              feature - feature object(s) to get updated.  A single feature</span>
<span class="sd">                        or a list of feature objects can be passed</span>
<span class="sd">           Output:</span>
<span class="sd">              dictionary of result messages</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
            <span class="s">&quot;rollbackOnFailure&quot;</span> <span class="p">:</span> <span class="n">rollbackOnFailure</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">gdbVersion</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;gdbVersion&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gdbVersion</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;token&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">features</span><span class="p">,</span> <span class="n">common</span><span class="o">.</span><span class="n">Feature</span><span class="p">):</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;features&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">([</span><span class="n">features</span><span class="o">.</span><span class="n">asDictionary</span><span class="p">])</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">features</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">vals</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">feature</span> <span class="ow">in</span> <span class="n">features</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">feature</span><span class="p">,</span> <span class="n">common</span><span class="o">.</span><span class="n">Feature</span><span class="p">):</span>
                    <span class="n">vals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">feature</span><span class="o">.</span><span class="n">asDictionary</span><span class="p">)</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;features&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">vals</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s">&#39;message&#39;</span> <span class="p">:</span> <span class="s">&quot;invalid inputs&quot;</span><span class="p">}</span>
        <span class="n">updateURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/updateFeatures&quot;</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">updateURL</span><span class="p">,</span>
                            <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                            <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="FeatureLayer.deleteFeatures"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.deleteFeatures">[docs]</a>    <span class="k">def</span> <span class="nf">deleteFeatures</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                       <span class="n">objectIds</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">,</span>
                       <span class="n">where</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">,</span>
                       <span class="n">geometryFilter</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                       <span class="n">gdbVersion</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                       <span class="n">rollbackOnFailure</span><span class="o">=</span><span class="bp">True</span>
                       <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; removes 1:n features based on a sql statement</span>
<span class="sd">            Input:</span>
<span class="sd">              objectIds - The object IDs of this layer/table to be deleted</span>
<span class="sd">              where - A where clause for the query filter. Any legal SQL</span>
<span class="sd">                      where clause operating on the fields in the layer is</span>
<span class="sd">                      allowed. Features conforming to the specified where</span>
<span class="sd">                      clause will be deleted.</span>
<span class="sd">              geometryFilter - a filters.GeometryFilter object to limit</span>
<span class="sd">                               deletion by a geometry.</span>
<span class="sd">              gdbVersion - Geodatabase version to apply the edits. This</span>
<span class="sd">                           parameter applies only if the isDataVersioned</span>
<span class="sd">                           property of the layer is true</span>
<span class="sd">              rollbackOnFailure - parameter to specify if the edits should</span>
<span class="sd">                                  be applied only if all submitted edits</span>
<span class="sd">                                  succeed. If false, the server will apply</span>
<span class="sd">                                  the edits that succeed even if some of</span>
<span class="sd">                                  the submitted edits fail. If true, the</span>
<span class="sd">                                  server will apply the edits only if all</span>
<span class="sd">                                  edits succeed. The default value is true.</span>
<span class="sd">            Output:</span>
<span class="sd">               JSON response as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/deleteFeatures&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span><span class="p">:</span> <span class="s">&quot;json&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">geometryFilter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="nb">isinstance</span><span class="p">(</span><span class="n">geometryFilter</span><span class="p">,</span> <span class="n">filters</span><span class="o">.</span><span class="n">GeometryFilter</span><span class="p">):</span>
            <span class="n">gfilter</span> <span class="o">=</span> <span class="n">geometryFilter</span><span class="o">.</span><span class="n">filter</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;geometry&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gfilter</span><span class="p">[</span><span class="s">&#39;geometry&#39;</span><span class="p">]</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;geometryType&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gfilter</span><span class="p">[</span><span class="s">&#39;geometryType&#39;</span><span class="p">]</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;inSR&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gfilter</span><span class="p">[</span><span class="s">&#39;inSR&#39;</span><span class="p">]</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;spatialRel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gfilter</span><span class="p">[</span><span class="s">&#39;spatialRel&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">where</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="n">where</span> <span class="o">!=</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;where&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">where</span>
        <span class="k">if</span> <span class="n">objectIds</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="n">objectIds</span> <span class="o">!=</span> <span class="s">&quot;&quot;</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;objectIds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">objectIds</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;token&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">dURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                               <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__init</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">result</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="FeatureLayer.applyEdits"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.applyEdits">[docs]</a>    <span class="k">def</span> <span class="nf">applyEdits</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                   <span class="n">addFeatures</span><span class="o">=</span><span class="p">[],</span>
                   <span class="n">updateFeatures</span><span class="o">=</span><span class="p">[],</span>
                   <span class="n">deleteFeatures</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                   <span class="n">gdbVersion</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                   <span class="n">rollbackOnFailure</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           This operation adds, updates, and deletes features to the</span>
<span class="sd">           associated feature layer or table in a single call.</span>
<span class="sd">           Inputs:</span>
<span class="sd">              addFeatures - The array of features to be added.  These</span>
<span class="sd">                            features should be common.Feature objects</span>
<span class="sd">              updateFeatures - The array of features to be updateded.</span>
<span class="sd">                               These features should be common.Feature</span>
<span class="sd">                               objects</span>
<span class="sd">              deleteFeatures - string of OIDs to remove from service</span>
<span class="sd">              gdbVersion - Geodatabase version to apply the edits.</span>
<span class="sd">              rollbackOnFailure - Optional parameter to specify if the</span>
<span class="sd">                                  edits should be applied only if all</span>
<span class="sd">                                  submitted edits succeed. If false, the</span>
<span class="sd">                                  server will apply the edits that succeed</span>
<span class="sd">                                  even if some of the submitted edits fail.</span>
<span class="sd">                                  If true, the server will apply the edits</span>
<span class="sd">                                  only if all edits succeed. The default</span>
<span class="sd">                                  value is true.</span>
<span class="sd">           Output:</span>
<span class="sd">              dictionary of messages</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">editURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/applyEdits&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;f&quot;</span><span class="p">:</span> <span class="s">&quot;json&quot;</span>
                  <span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;token&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">addFeatures</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> \
           <span class="nb">isinstance</span><span class="p">(</span><span class="n">addFeatures</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">common</span><span class="o">.</span><span class="n">Feature</span><span class="p">):</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;adds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">([</span><span class="n">f</span><span class="o">.</span><span class="n">asDictionary</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">addFeatures</span><span class="p">],</span>
                                        <span class="n">default</span><span class="o">=</span><span class="n">common</span><span class="o">.</span><span class="n">_date_handler</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">updateFeatures</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> \
           <span class="nb">isinstance</span><span class="p">(</span><span class="n">updateFeatures</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">common</span><span class="o">.</span><span class="n">Feature</span><span class="p">):</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;updates&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">([</span><span class="n">f</span><span class="o">.</span><span class="n">asDictionary</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">updateFeatures</span><span class="p">],</span>
                                           <span class="n">default</span><span class="o">=</span><span class="n">common</span><span class="o">.</span><span class="n">_date_handler</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">deleteFeatures</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> \
           <span class="nb">isinstance</span><span class="p">(</span><span class="n">deleteFeatures</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;deletes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">deleteFeatures</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">editURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                             <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="FeatureLayer.addFeature"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.addFeature">[docs]</a>    <span class="k">def</span> <span class="nf">addFeature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">features</span><span class="p">,</span>
                   <span class="n">gdbVersion</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                   <span class="n">rollbackOnFailure</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Adds a single feature to the service</span>
<span class="sd">           Inputs:</span>
<span class="sd">              feature - list of common.Feature object or a single</span>
<span class="sd">                        common.Feature Object</span>
<span class="sd">              gdbVersion - Geodatabase version to apply the edits</span>
<span class="sd">              rollbackOnFailure - Optional parameter to specify if the</span>
<span class="sd">                                  edits should be applied only if all</span>
<span class="sd">                                  submitted edits succeed. If false, the</span>
<span class="sd">                                  server will apply the edits that succeed</span>
<span class="sd">                                  even if some of the submitted edits fail.</span>
<span class="sd">                                  If true, the server will apply the edits</span>
<span class="sd">                                  only if all edits succeed. The default</span>
<span class="sd">                                  value is true.</span>
<span class="sd">           Output:</span>
<span class="sd">              JSON message as dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/addFeatures&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&quot;json&quot;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;token&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
        <span class="k">if</span> <span class="n">gdbVersion</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;gdbVersion&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gdbVersion</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rollbackOnFailure</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;rollbackOnFailure&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rollbackOnFailure</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">features</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;features&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">([</span><span class="n">feature</span><span class="o">.</span><span class="n">asDictionary</span> <span class="k">for</span> <span class="n">feature</span> <span class="ow">in</span> <span class="n">features</span><span class="p">],</span>
                                            <span class="n">default</span><span class="o">=</span><span class="n">common</span><span class="o">.</span><span class="n">_date_handler</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">features</span><span class="p">,</span> <span class="n">common</span><span class="o">.</span><span class="n">Feature</span><span class="p">):</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;features&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">([</span><span class="n">features</span><span class="o">.</span><span class="n">asDictionary</span><span class="p">],</span>
                                            <span class="n">default</span><span class="o">=</span><span class="n">common</span><span class="o">.</span><span class="n">_date_handler</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
                             <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                             <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>
    <span class="c">#----------------------------------------------------------------------</span></div>
<div class="viewcode-block" id="FeatureLayer.addFeatures"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.FeatureLayer.addFeatures">[docs]</a>    <span class="k">def</span> <span class="nf">addFeatures</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fc</span><span class="p">,</span> <span class="n">attachmentTable</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                    <span class="n">nameField</span><span class="o">=</span><span class="s">&quot;ATT_NAME&quot;</span><span class="p">,</span> <span class="n">blobField</span><span class="o">=</span><span class="s">&quot;DATA&quot;</span><span class="p">,</span>
                    <span class="n">contentTypeField</span><span class="o">=</span><span class="s">&quot;CONTENT_TYPE&quot;</span><span class="p">,</span>
                    <span class="n">rel_object_field</span><span class="o">=</span><span class="s">&quot;REL_OBJECTID&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; adds a feature to the feature service</span>
<span class="sd">           Inputs:</span>
<span class="sd">              fc - string - path to feature class data to add.</span>
<span class="sd">              attachmentTable - string - (optional) path to attachment table</span>
<span class="sd">              nameField - string - (optional) name of file field in attachment table</span>
<span class="sd">              blobField - string - (optional) name field containing blob data</span>
<span class="sd">              contentTypeField - string - (optional) name of field containing content type</span>
<span class="sd">              rel_object_field - string - (optional) name of field with OID of feature class</span>
<span class="sd">           Output:</span>
<span class="sd">              boolean, add results message as list of dictionaries</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">messages</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">attachmentTable</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">bins</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">uURL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">+</span> <span class="s">&quot;/addFeatures&quot;</span>
            <span class="n">max_chunk</span> <span class="o">=</span> <span class="mi">250</span>
            <span class="n">js</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unicode_convert</span><span class="p">(</span>
                <span class="n">common</span><span class="o">.</span><span class="n">featureclass_to_json</span><span class="p">(</span><span class="n">fc</span><span class="p">))</span>
            <span class="n">js</span> <span class="o">=</span> <span class="n">js</span><span class="p">[</span><span class="s">&#39;features&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">js</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">max_chunk</span><span class="p">:</span>
                <span class="n">bins</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">bins</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">js</span><span class="p">)</span><span class="o">/</span><span class="n">max_chunk</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">js</span><span class="p">)</span> <span class="o">%</span> <span class="n">max_chunk</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">bins</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">chunks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_chunks</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="n">js</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">bins</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">chunks</span><span class="p">:</span>
                <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s">&quot;f&quot;</span> <span class="p">:</span> <span class="s">&#39;json&#39;</span><span class="p">,</span>
                    <span class="s">&quot;features&quot;</span>  <span class="p">:</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">chunk</span><span class="p">,</span>
                                             <span class="n">default</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_date_handler</span><span class="p">)</span>
                <span class="p">}</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="n">params</span><span class="p">[</span><span class="s">&#39;token&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_token</span>
                <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_do_post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">uURL</span><span class="p">,</span> <span class="n">param_dict</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">proxy_port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_port</span><span class="p">,</span>
                                       <span class="n">proxy_url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_proxy_url</span><span class="p">)</span>
                <span class="n">messages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
                <span class="k">del</span> <span class="n">params</span>
                <span class="k">del</span> <span class="n">result</span>
            <span class="k">return</span> <span class="bp">True</span><span class="p">,</span> <span class="n">messages</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">oid_field</span> <span class="o">=</span> <span class="n">common</span><span class="o">.</span><span class="n">get_OID_field</span><span class="p">(</span><span class="n">fc</span><span class="p">)</span>
            <span class="n">OIDs</span> <span class="o">=</span> <span class="n">common</span><span class="o">.</span><span class="n">get_records_with_attachments</span><span class="p">(</span><span class="n">attachment_table</span><span class="o">=</span><span class="n">attachmentTable</span><span class="p">)</span>
            <span class="n">fl</span> <span class="o">=</span> <span class="n">common</span><span class="o">.</span><span class="n">create_feature_layer</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> not in ( </span><span class="si">%s</span><span class="s"> )&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">oid_field</span><span class="p">,</span> <span class="s">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">OIDs</span><span class="p">)))</span>
            <span class="n">val</span><span class="p">,</span> <span class="n">msgs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">addFeatures</span><span class="p">(</span><span class="n">fl</span><span class="p">)</span>
            <span class="n">messages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">msgs</span><span class="p">)</span>
            <span class="k">del</span> <span class="n">fl</span>
            <span class="k">for</span> <span class="n">oid</span> <span class="ow">in</span> <span class="n">OIDs</span><span class="p">:</span>
                <span class="n">fl</span> <span class="o">=</span> <span class="n">common</span><span class="o">.</span><span class="n">create_feature_layer</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> = </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">oid_field</span><span class="p">,</span> <span class="n">oid</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;layer</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">oid</span><span class="p">)</span>
                <span class="n">val</span><span class="p">,</span> <span class="n">msgs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">addFeatures</span><span class="p">(</span><span class="n">fl</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">msgs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;addResults&#39;</span><span class="p">]:</span>
                    <span class="n">oid_fs</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s">&#39;objectId&#39;</span><span class="p">]</span>
                    <span class="n">sends</span> <span class="o">=</span> <span class="n">common</span><span class="o">.</span><span class="n">get_attachment_data</span><span class="p">(</span><span class="n">attachmentTable</span><span class="p">,</span> <span class="n">sql</span><span class="o">=</span><span class="s">&quot;</span><span class="si">%s</span><span class="s"> = </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">rel_object_field</span><span class="p">,</span> <span class="n">oid</span><span class="p">))</span>
                    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sends</span><span class="p">:</span>
                        <span class="n">messages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">addAttachment</span><span class="p">(</span><span class="n">oid_fs</span><span class="p">,</span> <span class="n">s</span><span class="p">[</span><span class="s">&#39;blob&#39;</span><span class="p">]))</span>
                        <span class="k">del</span> <span class="n">s</span>
                    <span class="k">del</span> <span class="n">sends</span>
                    <span class="k">del</span> <span class="n">result</span>
                <span class="n">messages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">msgs</span><span class="p">)</span>
                <span class="k">del</span> <span class="n">fl</span>
                <span class="k">del</span> <span class="n">oid</span>
            <span class="k">del</span> <span class="n">OIDs</span>
            <span class="k">return</span> <span class="bp">True</span><span class="p">,</span> <span class="n">messages</span>


<span class="c">########################################################################</span></div></div>
<div class="viewcode-block" id="TableLayer"><a class="viewcode-back" href="../../../arcrest.agol.html#arcrest.agol.layer.TableLayer">[docs]</a><span class="k">class</span> <span class="nc">TableLayer</span><span class="p">(</span><span class="n">FeatureLayer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Table object is exactly like FeatureLayer object&quot;&quot;&quot;</span>
    <span class="k">pass</span></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">src  documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Esri.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>